(()=>{var e={789:function(e,t,o){(()=>{var t;t=()=>{const{uuid:e}=o(593),{getEpochTime:t}=o(278),i="idw-metric-",n=document.currentScript,r=n.getAttribute("idw_metrics_url"),c=n.getAttribute("idw_client_id"),l=n.getAttribute("idw_authority"),d=Object.entries(localStorage).find((([e,t])=>e.startsWith(`oidc.user:${l}`))),s=d?JSON.parse(d[1]):null;let a,u=0;const m=sessionStorage.getItem("idw-pageview-id")??e(),g=new Set;function w(){const e=document.documentElement,t=document.body,o="scrollTop",i="scrollHeight";return(e[o]||t[o])/((e[i]||t[i])-e.clientHeight)*100||0}c&&"null"!=c||console.warn("AnonCollect: required attribute `idw_client_id` is not defined!"),window.onscroll=function(){!function(){const e=w();e>u&&(u=e)}()};const p=function(){return JSON.parse(window.localStorage.getItem("cohort_ids"))??[]};function f(e){if(e.data&&"idw-impression-tracker"===e.data.from&&e.data.freqCapping){const t=e.data.freqCapping.split(":")[0];t?(g.add(t),h(0,!0)):console.log("AnonCollect: invalid format of impcounter message, campaignId is undefined")}}function h(e,o=!1){if(1==o||"hidden"===document.visibilityState){const e=JSON.stringify({metrics_type:window.IdwCollect?.beforeLoginRedirect?"idw_redirect":"onbeforeunload",time_spent:S.idwTimeMeInited?window.TimeMe.getTimeOnCurrentPageInSeconds():(console.log("AnonCollect: TimeMe is undefined"),0),scroll:Math.round(w()),max_scroll:Math.round(u),scroll_height:document.documentElement.scrollHeight,url:encodeURIComponent(window.location.href),urlref:encodeURIComponent(document.referrer),urldes:encodeURIComponent(document.activeElement.href),start_time:a,cohort_ids:p(),date:Date.now(),client_id:c,pageview_id:m,campaign_ids:g.size>0?Array.from(g):null});localStorage.setItem(`${i}${m}`,e);const o=s&&s.expires_at&&t()>=s.expires_at;s&&!o&&Object.entries(localStorage).filter((([e,t])=>e.startsWith(i))).forEach((([e,t])=>{const o={keepalive:!0,method:"POST",body:t,headers:{"Content-Type":"application/json",Authorization:"Bearer "+s.access_token}};localStorage.removeItem(e),fetch(r,o).catch((e=>{console.error("AnonCollect: error sending accumulated metric ",e)}))}))}}const S={initialize:()=>{console.log("AnonCollect: initialize"),a=Date.now(),window.TimeMe.initialize({currentPageName:"my-home-page",idleTimeoutInSeconds:30}),window.TimeMe.startTimer("my-activity"),window.TimeMe.callWhenUserLeaves((function(){window.TimeMe.stopTimer("my-activity")})),window.TimeMe.callWhenUserReturns((function(){window.TimeMe.startTimer("my-activity")})),S.idwTimeMeInited=!0,document.addEventListener("visibilitychange",h),window.addEventListener("message",f),h(0,!0)},stopCollect:()=>{console.log("AnonCollect: stopCollect"),a=void 0,window.TimeMe.stopTimer("my-activity"),S.idwTimeMeInited=!1,document.removeEventListener("visibilitychange",h)},idwTimeMeInited:!1};return window.IdwCollect=S,S.initialize(),localStorage.removeItem("idw-fe-uuid"),localStorage.removeItem("idw-fe-uuid-tm"),S},e.exports?e.exports=t():this.IdwCollect=t()}).call(this)},278:(e,t,o)=>{"use strict";function i(e,t,o){let i;i=e<3?e/30:e<30?e/32:e/105;let n=.1;return t/o<.1?n=0:t/o<.25?n=.05:t/o<.5&&(n=.075),i+n}function n(){return Math.round((new Date).getTime()/1e3)}function r(){return window.TimeMe?window.TimeMe.getTimeOnCurrentPageInSeconds()??0:(console.log("Interest scores: TimeMe is undefined"),0)}function c(){const e=document.documentElement,t=document.body,o="scrollTop",i="scrollHeight";return(e[o]||t[o])/((e[i]||t[i])-e.clientHeight)*100||0}o.r(t),o.d(t,{getEpochTime:()=>n,getInterestScore:()=>i,getMaxScroll:()=>d,getPageScrollPercent:()=>c,getTimeSpentOnPage:()=>r});const l={maxScrollPosition:0,getMaxScroll:function(){return Math.round(this.maxScrollPosition)},updateMaxScroll:function(){const e=c();e>this.maxScrollPosition&&(this.maxScrollPosition=e)},subscribeToScrollEvent:function(){window.addEventListener("scroll",(()=>{this.updateMaxScroll()}))}};function d(){return l.getMaxScroll()}l.subscribeToScrollEvent()},593:(e,t,o)=>{"use strict";function i(){const e=URL.createObjectURL(new Blob),t=e.toString();return URL.revokeObjectURL(e),t.split(/[:\/]/g).pop().toLowerCase()}o.r(t),o.d(t,{uuid:()=>i})}},t={};function o(i){var n=t[i];if(void 0!==n)return n.exports;var r=t[i]={exports:{}};return e[i].call(r.exports,r,r.exports,o),r.exports}o.d=(e,t)=>{for(var i in t)o.o(t,i)&&!o.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o(789)})();