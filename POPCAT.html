<!DOCTYPE html>
<!-- saved from url=(0021)https://popcat.click/ -->
<html lang=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script type="text/javascript" async="" src="./POPCAT_files/ec.js.下載"></script><script type="text/javascript" async="" src="./POPCAT_files/ecommerce.js.下載"></script><script type="text/javascript" async="" src="./POPCAT_files/publishertag.prebid.136.js.下載"></script><script async="" src="./POPCAT_files/analytics.js.下載"></script><script defer="" src="./POPCAT_files/572"></script><script src="./POPCAT_files/rules-p-5AnRGcbhtTcgL.js.下載" async=""></script><script src="./POPCAT_files/hadron.js.下載"></script><script type="text/javascript" async="" src="./POPCAT_files/localstore.js.下載"></script><link rel="preconnect" href="https://securepubads.g.doubleclick.net/" crossorigin=""><link rel="preconnect" href="https://cdn.consentmanager.mgr.consensu.org/" crossorigin=""><script src="./POPCAT_files/beacon.js.下載" async="" nnid="nn-15f9e800"></script><script src="./POPCAT_files/loader.js.下載" async="" nnid="nn-482cb016" id="idward-plugin-js" idw_client_id="NTU=" idw_hide_button="true"></script><script src="./POPCAT_files/41a36494-d599-4b23-9be8-be4b70ee2ee5" async="" nnid="nn-1fe40f94"></script><script async="" src="./POPCAT_files/apstag.js.下載"></script><script src="./POPCAT_files/00917082-71e9-498e-8343-00c3df06b798-web.js.下載" async="" nnid="nn-15fa89e9"></script><script src="./POPCAT_files/tag" async="" nnid="nn-78bf31fb"></script><script src="./POPCAT_files/wrapperMessagingWithoutDetection.js.下載" async="" nnid="nn-31ce57da"></script><script async="" type="text/javascript" src="./POPCAT_files/latest.js.下載"></script><script src="./POPCAT_files/moatheader.js.下載" async="" nnid="nn-fef7804"></script><script src="./POPCAT_files/prebid.php" async="" nnid="nn-6194c808"></script><script src="./POPCAT_files/js" async="" nnid="nn-77ed23dc"></script><script src="./POPCAT_files/reload-ad-slots.js.下載" async="" nnid="nn-1eb16ae1"></script><script src="./POPCAT_files/refresh.js.下載" async="" nnid="nn-590526bb"></script><script src="./POPCAT_files/request-manager.js.下載" async="" nnid="nn-5f5ad431"></script><script src="./POPCAT_files/quantcast.js.下載" async="" nnid="nn-3c91e282"></script><script src="./POPCAT_files/gpt-positions.js.下載" async="" nnid="nn-17329878"></script><script src="./POPCAT_files/moat-yield-display.js.下載" async="" nnid="nn-8f37dfc"></script><script src="./POPCAT_files/anonymised.js.下載" async="" nnid="nn-4b637a85"></script><script src="./POPCAT_files/analytics(1).js.下載" async="" nnid="nn-5b015186"></script><script src="./POPCAT_files/pubstack.js.下載" async="" nnid="nn-64980d83"></script><script src="./POPCAT_files/prebid.js.下載" async="" nnid="nn-3ea12314"></script><script src="./POPCAT_files/amazon.js.下載" async="" nnid="nn-2312c3b6"></script><script src="./POPCAT_files/permutive.js.下載" async="" nnid="nn-b02b637"></script><script src="./POPCAT_files/gpt.js.下載" async="" nnid="nn-2ed54a0b"></script><script src="./POPCAT_files/comscore.js.下載" async="" nnid="nn-f9da7bd"></script><script src="./POPCAT_files/blockthrough.js.下載" async="" nnid="nn-696ef6"></script><script src="./POPCAT_files/cmp-sourcepoint.js.下載" async="" nnid="nn-7f49260e"></script><script>window.AdSlots = window.AdSlots || {cmd: [], disableScripts: ['gpt']};</script><script async="" src="./POPCAT_files/f.txt"></script><script async="" src="./POPCAT_files/app.js.下載" site="popcat"></script><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="author" content="Joshua O&#39;Sullivan, Freddy Heppell, Edward Hails"><meta name="description" content="popcat pop pop pop"><meta property="og:type" content="website"><meta property="og:title" content="Pop Cat"><meta property="og:url" content="https://popcat.click/"><meta property="og:description" content="Wide-Mouthed Popping Cat"><meta property="og:image" content="https://popcat.click/og-card.jpg"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://popcat.click/twitter-card.jpg"><meta name="twitter:site" content="@PopCatClick"><link rel="apple-touch-icon" sizes="180x180" href="https://popcat.click/icons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://popcat.click/icons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://popcat.click/icons/favicon-16x16.png"><link rel="manifest" href="https://popcat.click/icons/site.webmanifest"><link rel="mask-icon" href="https://popcat.click/icons/safari-pinned-tab.svg" color="#d1b99d"><link rel="shortcut icon" href="https://popcat.click/icons/favicon.ico"><meta name="msapplication-TileColor" content="#9f00a7"><meta name="msapplication-config" content="/icons/browserconfig.xml"><meta name="theme-color" content="#d1b99d"><script async="" src="./POPCAT_files/js(1)"></script><script>window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-WVMPYN9ND5');</script><title>POPCAT</title><link href="./POPCAT_files/app.3766dbc7.css" rel="preload" as="style"><link href="./POPCAT_files/chunk-vendors.af4b1836.css" rel="preload" as="style"><link href="./POPCAT_files/app.cdadf96b.js.下載" rel="preload" as="script"><link href="./POPCAT_files/chunk-vendors.5ced7580.js.下載" rel="preload" as="script"><link href="./POPCAT_files/chunk-vendors.af4b1836.css" rel="stylesheet"><link href="./POPCAT_files/app.3766dbc7.css" rel="stylesheet"><meta http-equiv="origin-trial" content="As0hBNJ8h++fNYlkq8cTye2qDLyom8NddByiVytXGGD0YVE+2CEuTCpqXMDxdhOMILKoaiaYifwEvCRlJ/9GcQ8AAAB8eyJvcmlnaW4iOiJodHRwczovL2RvdWJsZWNsaWNrLm5ldDo0NDMiLCJmZWF0dXJlIjoiV2ViVmlld1hSZXF1ZXN0ZWRXaXRoRGVwcmVjYXRpb24iLCJleHBpcnkiOjE3MTk1MzI3OTksImlzU3ViZG9tYWluIjp0cnVlfQ=="><meta http-equiv="origin-trial" content="AgRYsXo24ypxC89CJanC+JgEmraCCBebKl8ZmG7Tj5oJNx0cmH0NtNRZs3NB5ubhpbX/bIt7l2zJOSyO64NGmwMAAACCeyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXN5bmRpY2F0aW9uLmNvbTo0NDMiLCJmZWF0dXJlIjoiV2ViVmlld1hSZXF1ZXN0ZWRXaXRoRGVwcmVjYXRpb24iLCJleHBpcnkiOjE3MTk1MzI3OTksImlzU3ViZG9tYWluIjp0cnVlfQ=="><meta http-equiv="origin-trial" content="A/ERL66fN363FkXxgDc6F1+ucRUkAhjEca9W3la6xaLnD2Y1lABsqmdaJmPNaUKPKVBRpyMKEhXYl7rSvrQw+AkAAACNeyJvcmlnaW4iOiJodHRwczovL2RvdWJsZWNsaWNrLm5ldDo0NDMiLCJmZWF0dXJlIjoiRmxlZGdlQmlkZGluZ0FuZEF1Y3Rpb25TZXJ2ZXIiLCJleHBpcnkiOjE3MTkzNTk5OTksImlzU3ViZG9tYWluIjp0cnVlLCJpc1RoaXJkUGFydHkiOnRydWV9"><meta http-equiv="origin-trial" content="A6OdGH3fVf4eKRDbXb4thXA4InNqDJDRhZ8U533U/roYjp4Yau0T3YSuc63vmAs/8ga1cD0E3A7LEq6AXk1uXgsAAACTeyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXN5bmRpY2F0aW9uLmNvbTo0NDMiLCJmZWF0dXJlIjoiRmxlZGdlQmlkZGluZ0FuZEF1Y3Rpb25TZXJ2ZXIiLCJleHBpcnkiOjE3MTkzNTk5OTksImlzU3ViZG9tYWluIjp0cnVlLCJpc1RoaXJkUGFydHkiOnRydWV9"><script src="./POPCAT_files/f(1).txt" async=""></script><script type="text/javascript" data-cfasync="false" crossorigin="anonymous" src="./POPCAT_files/latest(1).js.下載" id="kueezrtb_latest"></script><style>.nn-sticky{width:100%;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;position:fixed;bottom:var(--cmpHeight,0);left:0;right:0;z-index:9999;pointer-events:none}.nn-sticky>div{margin:0;padding:0;position:relative;z-index:9999;pointer-events:auto}.nn-sticky .close-btn{-webkit-appearance:none;-moz-appearance:none;appearance:none;display:block;width:40px;height:40px;position:absolute;right:-5px;top:0;margin-top:-40px;border-radius:40px;cursor:pointer;outline:none;background:#555;z-index:9999;pointer-events:auto}.nn-sticky .close-btn:after{content:"";background:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='40' height='40'%3E%3Cpath d='M10 10l20 20m0-20L10 30' stroke='%23fff' stroke-width='4'/%3E%3C/svg%3E") no-repeat 50% 50%;background-size:25px;width:100%;height:100%;display:block}.nn_sticky_mpu{height:600px}.nn_sticky_mpu>div{position:-webkit-sticky!important;position:sticky!important;top:15px}</style><meta name="pbstck_context:pbstck_ab_test" content="v7.54.4"><script charset="utf-8" src="./POPCAT_files/gdpr-tcf.46659a6b91120081e5be.bundle.js.下載"></script><script charset="utf-8" src="./POPCAT_files/ccpa-gpp.08be511d76b74a8f0234.bundle.js.下載"></script><script src="./POPCAT_files/bundle.js.下載" async="" nnid="nn-482cb016" id="idward-plugin-js" idw_client_id="NTU=" idw_hide_button="true"></script><script src="./POPCAT_files/26c60b4f-549a-4efd-8ae0-f00e07c46204" type="text/javascript" async="async"></script><script src="./POPCAT_files/pubcid.min.js.下載"></script><script src="./POPCAT_files/sync.min.js.下載"></script><script src="./POPCAT_files/id5-api.js.下載"></script><script type="text/javascript">(function() { var load = function() {!function(e){"use strict";function t(e,t,i,s){return new(i||(i=Promise))((function(n,o){function a(e){try{d(s.next(e))}catch(e){o(e)}}function r(e){try{d(s.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,r)}d((s=s.apply(e,t||[])).next())}))}var i,s;"function"==typeof SuppressedError&&SuppressedError;const n=/pbstck:debug/.test(window.location.href),o=!!(null===(i=window.localStorage)||void 0===i?void 0:i.getItem)&&null!==window.localStorage.getItem("pbstck"),a=`[pbstck-${null!==(s="b9b8f0d")?s:"unknown"}]`;function r(){return n||o}function d(...e){r()&&console.log(a,...e)}function c(...e){r()&&console.warn(a,...e)}function u(...e){r()&&console.error(a,...e)}var l,b;!function(e){e[e.LOADED=0]="LOADED",e[e.FAILED=1]="FAILED",e[e.NOT_READY=2]="NOT_READY"}(l||(l={})),function(e){e.RUNNING="running",e.NO_BID="noBid",e.BID="bidResponse",e.TIMEOUT="bidTimeout"}(b||(b={}));const p=e=>e.state===b.BID,h=e=>p(e)?e.bidResponseId:e.bidId;var m,v;!function(e){e[e.ON_DONE=0]="ON_DONE",e[e.ON_SMART_MERGED=1]="ON_SMART_MERGED",e[e.NEVER=2]="NEVER"}(m||(m={})),function(e){e[e.PBJS=0]="PBJS",e[e.SMART_RTB=1]="SMART_RTB",e[e.AMAZON=2]="AMAZON",e[e.GAM=3]="GAM"}(v||(v={}));class f extends Error{constructor(e){super(e)}}function g(e,t){if(!Array.isArray(e))throw new f(null!=t?t:"Expected value to be an array, but received "+typeof e)}function y(e){return"number"==typeof e&&!isNaN(e)}function I(e){return"string"==typeof e}function k(e,t){if(!y(e))throw new f(null!=t?t:"Expected value to be a number, but received "+typeof e)}function w(e,t){if("string"!=typeof e)throw new f(null!=t?t:"Expected value to be a string, but received "+typeof e)}function C(e,t){if(null==e)throw new f(null!=t?t:`Expected value to be defined, but received ${e}`)}function A(e,t){if(!Array.isArray(e)||0===e.filter((e=>void 0!==e)).length)throw new f(null!=t?t:"Expected array to be not empty")}const R=e=>"object"==typeof e&&null!==e&&!Array.isArray(e);function T(e,t){if(!R(e))throw new f(null!=t?t:`Expected value to be record, but received '${typeof e}'`)}const S=(e,t)=>R(e)&&t in e;class E{constructor(){this.storeAuctions=new Map,this.storeCoreBidResponses=new Map,this.mappingAdUnitNameAuctions=new Map,this.mappingAdUnitCodeLastAuctions=new Map}setAuction(e){var t;this.storeAuctions.set(e.auctionId,e);const i=null!==(t=this.mappingAdUnitNameAuctions.get(e.adUnit.name))&&void 0!==t?t:[];i.find((t=>t===e.auctionId))||(i.push(e.auctionId),this.mappingAdUnitNameAuctions.set(e.adUnit.name,i)),this.mappingAdUnitCodeLastAuctions.set(e.adUnit.code,e.auctionId)}getAuction(e){const t=this.storeAuctions.get(e);return C(t,`auction not found, @auctionId=${e}`),t}findBidsByAuctionId(e){var t;return(null===(t=this.storeAuctions.get(e))||void 0===t?void 0:t.bidRequests)||[]}findLastAuctionId(e){return this.mappingAdUnitCodeLastAuctions.get(e.code)}findAuctionByAdUnitPath(e){return Array.from(this.storeAuctions.values()).find((t=>{var i;return null===(i=t.adUnit.path)||void 0===i?void 0:i.endsWith(e)}))}}class U{constructor(e){this.subscriptions=[],this.children=[],this.processingChain=e?[...e]:[]}subscribe(e,t){this.subscriptions.push({onEvent:e,onError:t})}unsubscribe(e,t){this.subscriptions=this.subscriptions.filter((i=>!(i.onEvent===e&&i.onError===t)))}pipe(...e){const t=new U([...this.processingChain,...e]);return this.children.push(t),t}next(e){this.subscriptions.forEach((t=>{try{const i=this.processingChain.reduce(((e,t)=>{if(void 0!==e)return t(e)}),e);void 0!==i&&t.onEvent(i)}catch(e){t.onError&&t.onError(e)}})),this.children.forEach((t=>t.next(e)))}}const j=e=>{return[(t=([t])=>e.test(t),e=>{if(t(e))return e}),([,[e,...t]])=>[e,t]];var t},B=[],N=new U;function O(e,t){let i=0;B.push((s=>{i>=t||(i+=1,e(s))}))}function V(e){B.forEach((t=>t({error:e})))}function $(e){var t;V({context:null!==(t=e.context)&&void 0!==t?t:{},message:e.message})}const q=["39216077","22181265","6943","22815767462","1030155","49313688","127208727","21794835430","8456","27416722","1021524","2507246","17085479"],x=e=>{var t,i,s;if(!(null===(t=e.pubstack)||void 0===t?void 0:t.adUnitName)&&e.ortb2Imp)for(const t of q)if(e.ortb2Imp.ext.data.pbadslot.startsWith(`/${t}/`)){const t=e.ortb2Imp.ext.data.pbadslot.replace(/\/$/,"").split("/").pop();return t||e.code}return null!==(s=null===(i=e.pubstack)||void 0===i?void 0:i.adUnitName)&&void 0!==s?s:e.code},F=e=>{var t;return(null===(t=e.pubstack)||void 0===t?void 0:t.adUnitPath)?P(e.pubstack.adUnitPath):e.ortb2Imp?P(e.ortb2Imp.ext.data.pbadslot):void 0},z=e=>{const t=[];return e.forEach((e=>{H(e).bids.forEach((e=>{t.some((t=>t.bidder===e.bidder))||t.push(e)}))})),t},D=e=>{const t={};return e.forEach((e=>{const i=H(e);void 0!==i.mediaTypes.native&&(t.native=i.mediaTypes.native),void 0!==i.mediaTypes.video&&i.mediaTypes.video.playerSize&&(t.video?t.video.playerSize=[...t.video.playerSize,...i.mediaTypes.video.playerSize]:t.video=i.mediaTypes.video),void 0!==i.mediaTypes.banner&&(t.banner?(t.banner.sizes=[...t.banner.sizes,...i.mediaTypes.banner.sizes],i.mediaTypes.banner.sizeConfig&&(t.banner.sizeConfig=i.mediaTypes.banner.sizeConfig)):t.banner=i.mediaTypes.banner)})),t},M=e=>{var t,i,s;const n=e=>"string"==typeof e?e:Array.isArray(e)&&2===e.length?`${e[0]}x${e[1]}`:"unknown",o=new Set;return(e=>{var t,i;return(void 0===(null===(t=e.mediaTypes.banner)||void 0===t?void 0:t.sizes)||0===(null===(i=e.mediaTypes.banner)||void 0===i?void 0:i.sizes.length))&&void 0===e.mediaTypes.native&&void 0===e.mediaTypes.video})(e)?[]:((null===(t=e.mediaTypes.banner)||void 0===t?void 0:t.sizes)&&(Array.isArray(e.mediaTypes.banner.sizes[0])?e.mediaTypes.banner.sizes.forEach((e=>o.add(n(e)))):o.add(n(e.mediaTypes.banner.sizes))),(null===(i=e.mediaTypes.video)||void 0===i?void 0:i.playerSize)&&(null===(s=e.mediaTypes.video)||void 0===s||s.playerSize.forEach((e=>o.add((e=>{const t=n(e);return"unknown"===t?"video":`video-${t}`})(e))))),e.mediaTypes.native&&o.add("native"),Array.from(o))},P=e=>e.startsWith("/")?e:`/${e}`,_=e=>{var t,i;const s=/^(adUnitPath)/;return(null!==(i=null===(t=e.pubstack)||void 0===t?void 0:t.tags)&&void 0!==i?i:[]).filter((e=>"string"==typeof e)).filter((e=>e.length>0&&e.length<256||s.test(e)))},L=e=>{const t=(e=>e.placementId||e.zoneId||e.siteId||void 0)(e);if(t)return`slot:${t}`},W=e=>{const t={hasUserId:"notAvailable",userIdProviderList:[]};if(0===e.length)return t;let i=!0;const s=e[0].bids[0];return e.forEach((e=>{e.bids.forEach((e=>{if(t.userIdProviderList=t.userIdProviderList.concat(Object.keys(e.userId||{})),t.userIdProviderList=t.userIdProviderList.concat(Object.keys(e.crumbs||{})),i=i&&typeof s.crumbs==typeof e.crumbs,s.crumbs&&e.crumbs){const t=Object.keys(s.crumbs),n=Object.keys(e.crumbs);i=i&&t.length===n.length&&t.every((e=>n.includes(e)))}if(i=i&&typeof s.userId==typeof e.userId,s.userId&&e.userId){const t=Object.keys(s.userId),n=Object.keys(e.userId);i=i&&t.length===n.length&&t.every((e=>n.includes(e)))}}))})),t.userIdProviderList.length>0&&i?t.hasUserId="available":t.userIdProviderList.length>0&&!i&&(t.hasUserId="notConsistent"),t.userIdProviderList=Array.from(new Set(t.userIdProviderList)),t},G=e=>{let t=e.map((e=>e.gdprConsent)).filter((e=>void 0!==e));return e.length!==t.length&&(t=[]),t},J=e=>{const t={userConsentState:"notAvailable",userConsentVersion:"notAvailable"};try{if(0===e.length)return t;const i=e.every(((e,t,i)=>e.apiVersion===i[0].apiVersion)),s=e.every(((e,t,i)=>e.consentString===i[0].consentString));if(!i||!s)throw new Error("API version and Consent string must be unique within a bid request array");return(e=>{const t={userConsentState:"notAvailable",userConsentVersion:"notAvailable"};if(void 0===e)return t;let i=!1,s=!1;if(e.apiVersion&&1!==e.apiVersion){if(2!==e.apiVersion)throw e.apiVersion>2?new Error(`API version is not yet supported: ${e.apiVersion}`):new Error(`An issue occured while identifying TCF version: ${e.apiVersion}`);if(t.userConsentVersion="tcf-v2","boolean"==typeof e.gdprApplies&&!e.gdprApplies)return Object.assign(Object.assign({},t),{userConsentState:"notApplicable"});if((e=>{const t=e;return!!(t&&t.purpose&&t.purpose.consents&&t.vendor&&t.vendor.consents)})(e.vendorData)){const n=Object.values(e.vendorData.purpose.consents),o=Object.values(e.vendorData.vendor.consents);if(i=n.filter((e=>e)).length>0,s=o.filter((e=>e)).length>0,0===n.length||0===o.length)return Object.assign(Object.assign({},t),{userConsentState:"notAvailable"})}}else{if(t.userConsentVersion="tcf-v1","boolean"==typeof e.gdprApplies&&!e.gdprApplies)return Object.assign(Object.assign({},t),{userConsentState:"notApplicable"});if((e=>{const t=e;return!(!t||!t.purposeConsents||!t.vendorConsents)})(e.vendorData)){const n=Object.values(e.vendorData.purposeConsents),o=Object.values(e.vendorData.vendorConsents);if(i=n.filter((e=>e)).length>0,s=o.filter((e=>e)).length>0,0===n.length||0===o.length)return Object.assign(Object.assign({},t),{userConsentState:"notAvailable"})}}return t.userConsentState=i&&s?"accepted":"refused",t})(e[0])}catch(e){return e.context=e.context||{},e.context.pbjs={source:"pbjs:helpers"},$(e),t}},H=e=>JSON.parse(JSON.stringify(e));function Q(e,t){const i=function(e){const t=e.split("?")[1];if(void 0!==t){const e=t.split("=");return{key:e[0],value:e[1]}}return}(e),s=e.split("?")[0].startsWith("/")?e.split("?")[0]:`/${e.split("?")[0]}`,n=function(e){return e.getAdUnitPath().replace("//","/")}(t);return s===(n.startsWith("/")?n:`/${n}`)&&(void 0===i||t.getTargeting(i.key)[0]===i.value)}const Y=(e,t)=>{const i=e.path;if(void 0===t||void 0===i)return;const s=t.pubads().getSlots();if(void 0===s)return;const n=s.filter((e=>Q(i,e)));switch(n.length){case 0:return;case 1:return n[0];default:if(-1!==i.indexOf("?"))return d("[pubstackGoogleTag] retrieve first slot matching the  dimension",i),n[0];{const s=t.pubads();try{!function(e){if("object"!=typeof e||null===e||!("getSlotIdMap"in e)||"function"!=typeof e.getSlotIdMap)throw new Error("Missing property getSlotIdMap on googletag")}(s);const t=s.getSlotIdMap();d("[pubstackGoogleTag] get all slot map",t);return t[Object.keys(t).filter((e=>e.startsWith(i)))[function(e){const t=Array.from(document.querySelectorAll(`div[id*='${e.name}']`)).map((e=>e.id));return t.findIndex((t=>t===e.code))}(e)]]}catch(e){return void d(`[pubstackGoogleTag] ${e}`)}}}};const K=e=>{const t=e;if(void 0!==t&&t.apiReady&&void 0!==t.cmd&&void 0!==t.pubads&&"function"==typeof t.pubads){if("function"==typeof t.pubads().refresh)return t}};const X=e=>{const t=(e=>K(e.googletag))(window);d("[pubstackFindElementById] adUnit ",e);const i=Y(e,t);return d("[pubstackFindElementById] slot ",i),i?document.getElementById(i.getSlotElementId()):Z(e.code)},Z=e=>{const t=document.getElementById(e);return null===t?document.querySelector(`iframe[id*='${e}']`):t};function ee(e){const t=document.getElementsByTagName("meta");return Array.from(t).filter((t=>t.name.includes(`${e}:`)))}function te(e,t){return e.replace(`${t}:`,"")}const ie=[0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,59],se=e=>{if(!e)throw new Error("IllegalArgumentException");const t={_value:[108,98,39,46,7,187,1,66,98,184,33,117,98,149,197,141],_scratch:new Array(16)};function i(){let e,i;for(i=0;i<16;i++)t._scratch[i]=0;for(i=0;i<16;i++)for(let s=0;s<16-i;s++)e=t._value[15-i]*ie[15-s]+(t._scratch[15-(i+s)]||0),e>255&&(i+s+1<16&&(t._scratch[15-(i+s+1)]+=e>>>8),e-=e>>>8<<8),t._scratch[15-(i+s)]=e;const s=t._scratch;t._scratch=t._value,t._value=s}return function(e){let s;if("string"==typeof e){const t=e.replace(/\r\n/g,"\n"),i=[];let n=0;for(s=0;s<t.length;s++){const e=t.charCodeAt(s);e<128?i[n++]=e:e<2048?(i[n++]=e>>6|192,i[n++]=63&e|128):(i[n++]=e>>12|224,i[n++]=e>>6&63|128,i[n++]=63&e|128)}e=i}for(s=0;s<e.length;s++)t._value[15]^=e[s],i()}(e),t._value.reduce(((e,t)=>e+("00"+t.toString(16)).slice(-2)),"")},ne=(e,...t)=>{if(0===t.length||""===t.join(""))throw new Error("Failed to create hash");return se(t.join("")).substr(0,e)},oe=(...e)=>{try{return ne(14,...e)}catch(e){throw new Error("Failed to create an auction Id")}},ae=(...e)=>{try{return ne(8,...e)}catch(e){throw new Error("Failed to create a bid Id")}},re=()=>se(`${Math.random().toString(36)}${(new Date).getTime()}`),de=(e,t)=>{const i=new Set;return e.tags.forEach((e=>i.add(e))),t.tags.forEach((e=>i.add(e))),i};class ce{constructor(e){this.coreAuctionStream=new U,this.coreImpressionStream=new U,this.state=e}subscribe(e){this.coreAuctionStream.subscribe(e.onAuction),this.coreImpressionStream.subscribe(e.onImpression)}pushNewImpression(e){var t,i,s,n,o;const a=this.state.getAuction(e.auctionId),r=null!==(t=this.state.findLastAuctionId(a.adUnit))&&void 0!==t?t:"",d=this.state.findBidsByAuctionId(a.auctionId).filter((e=>e.state===b.BID)).map((e=>e)).sort(((e,t)=>t.cpm-e.cpm)),c=(null!==(s=null===(i=d[0])||void 0===i?void 0:i.cpm)&&void 0!==s?s:0)-(null!==(o=null===(n=d[1])||void 0===n?void 0:n.cpm)&&void 0!==o?o:0);return this.state.storeCoreBidResponses.set(e.bidId,e),this.impressionFormatAndForward(a,e,c,r)}pushNewAuction(e){var t,i;e.bidRequests=(t=e.bidRequests,i="adThink",t.filter((e=>e.bidderCode!==i))),0!==e.bidRequests.length&&this.coreAuctionStream.next(e)}checkMeasurability(e){return"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype&&"isIntersecting"in window.IntersectionObserverEntry.prototype&&!!X(e)}impressionSasFormatAndForward(e,t){const i={bidId:"smart-"+re(),auctionId:"smart-"+re(),lastAuctionId:"smart-"+re(),adUnit:t,bidderCode:e.bidderCode,cpm:e.cpm,currency:e.currency,refresh:!1,size:e.size,userConsentState:"notAvailable",userConsentVersion:"notAvailable",hasUserId:"notAvailable",userIdProviderList:[],pbjsVersion:"smart-ad-server",tags:new Set,viewabilityMeasurable:!1,cpmUplift:0,pubstackRefresh:!1,pubstackRefreshRank:0,customFields:e.customFields};this.coreImpressionStream.next(i)}impressionFormatAndForward(e,t,i,s){const n=this.state.findBidsByAuctionId(e.auctionId),o=this.state.getAuction(s),a=G(n),r=this.checkMeasurability(e.adUnit),{userConsentState:d,userConsentVersion:c}=J(a),u={bidId:t.bidResponseId,auctionId:e.auctionId,lastAuctionId:s,adUnit:e.adUnit,bidderCode:t.bidderCode,cpm:t.cpm,currency:t.currency,refresh:!1,size:t.size,userConsentState:d,userConsentVersion:c,hasUserId:e.hasUserId,userIdProviderList:e.userIdProviderList,pbjsVersion:e.pbjsVersion,tags:de(e,t),viewabilityMeasurable:r,cpmUplift:i,dealId:t.dealId,pubstackRefresh:o.pubstackRefresh,pubstackRefreshRank:o.pubstackRefreshRank,customFields:t.customFields};this.coreImpressionStream.next(u)}}const ue=e=>void 0!==e,le=400,be="unknown",pe=new Map;class he{constructor(e){this.onBidResponseStream=new U,this.onAuctionEndStream=new U,this.onBidWonStream=new U,this.onBidWonFromSdkStream=new U,e&&(this.pbjsConfig=e)}getAdServerCurrency(){var e;return null===(e=this.pbjsConfig)||void 0===e?void 0:e.adServerCurrency}onBidResponse(e){const t=oe(e.adUnitCode,e.auctionId),i=ae(e.requestId),s=ae(i,e.adId);pe.set(e.adId,i),this.onBidResponseStream.next({adId:e.adId,auctionId:t,dealId:e.dealId||void 0,bidId:i,bidResponseId:s,cpm:e.cpm,currency:e.currency,size:e.size,mediaType:e.mediaType,tags:[],bidderCode:e.bidderCode,customFields:{},timeToRespond:e.timeToRespond,adapterCode:e.adapterCode})}onAuctionEnd(e,t="prebid"){!function(e,t){const i=[];if(e.forEach((e=>{try{t(e)}catch(e){i.push(e)}})),0!==i.length){const e=`forEach: Unexpected (${i.length}) errors\n${i.reduce(((e,t)=>`${e}\t- ${t.message}\n`),"")}`;throw new Error(e)}}(e.adUnits.filter((t=>void 0===e.adUnitCodes||e.adUnitCodes.includes(t.code))).reduce(((e,t)=>(e.find((e=>t.code===e.code))||e.push(t),e)),[]),(i=>{var s,n,o,a;const r=function(e,t){const i=e.adUnits.filter((e=>e.code===t)),s={code:t,bids:z(i),mediaTypes:D(i)},n=(e=>{let t;return e.forEach((e=>{const i=H(e);i.pubstack&&0!=Object.keys(i.pubstack).length?t=i.pubstack:JSON.stringify(i.pubstack)!==JSON.stringify(t)&&c(`Two different pubstack declaration found for a adUnitCode ${i.code}`,i.pubstack,t)})),t})(i);n&&(s.pubstack=n);const o=(e=>{let t;return e.forEach((e=>{const i=H(e);i.ortb2Imp?t=i.ortb2Imp:JSON.stringify(i.ortb2Imp)!==JSON.stringify(t)&&c(`Two different ortb2imp declaration found for a adUnitCode ${i.code}`,i.ortb2Imp,t)})),t})(i);o&&(s.ortb2Imp=o);return s}(e,i.code),d=(e=>({code:e.code,name:x(e),path:F(e)}))(r),u=oe(r.code,e.auctionId),l=e.labels||[],p=(g(h=e.bidderRequests),h.length>0&&h.every((e=>C(e.bidderRequestId))),h);var h;const m=e.bidderRequests.flatMap((t=>{var s;const n=oe(i.code,e.auctionId),o=t.gdprConsent,a=t.bidderCode,r=null===(s=e.seatNonBids)||void 0===s?void 0:s.find((e=>e.seat===t.bidderCode)),d=null==r?void 0:r.nonbid.find((e=>e.impid===i.code)),c=t.bids.filter((e=>e.adUnitCode===i.code)).map((t=>{const i=ae(t.bidId),s=e.bidsReceived.find((e=>e.requestId===t.bidId)),r=e.noBids.find((e=>e.bidId===t.bidId)),d=e.bidsRejected.find((e=>e.requestId===t.bidId));let c={state:b.TIMEOUT};if(s){const e=ae(i,s.adId);c={adId:s.adId,bidResponseId:e,cpm:s.cpm,currency:s.currency,size:s.size,mediaType:s.mediaType,state:b.BID,timeToRespond:s.timeToRespond,dealId:s.dealId||void 0}}else r?c={state:b.NO_BID}:d&&(c={state:b.NO_BID,rejectionReason:d.rejectionReason});return Object.assign({auctionId:n,bidId:i,gdprConsent:o,bidderCode:a,tags:[L(t.params)].filter(ue),customFields:{}},c)}));return d&&c.push({bidId:ae(re()),auctionId:n,gdprConsent:o,bidderCode:a,tags:[],customFields:{source:"s2s"},state:101===d.statuscode?b.TIMEOUT:b.NO_BID}),c})),v={auctionId:u,adUnit:d,refreshIndex:0,sizes:M(r),userId:W(p),pbjsVersion:null!==(n=null===(s=this.pbjsConfig)||void 0===s?void 0:s.version)&&void 0!==n?n:be,tags:[..._(r)],labels:l,gracePeriod:null!==(a=null===(o=this.pbjsConfig)||void 0===o?void 0:o.gracePeriod)&&void 0!==a?a:le,duration:e.auctionEnd-e.timestamp,bidRequests:m,timeout:e.timeout,customFields:{source:t,receivedTimestamp:Date.now().toString()}};this.onAuctionEndStream.next(v)}))}onBidWon(e){const t=Object.assign(Object.assign({},e),{dealId:e.dealId||void 0,auctionId:oe(e.adUnitCode,e.auctionId),tags:[L(e.params[0]||{})].filter(ue),customFields:{source:"prebid",receivedTimestamp:Date.now().toString()}});this.onBidWonStream.next(t)}onBidWonFromSdk(e){const t=Object.assign(Object.assign({},e),{customFields:{source:"sdk"}});this.onBidWonFromSdkStream.next(t)}}class me{constructor(){this.onAdStream=new U}onAd(e){const t=`/${e.formatId}`,i=e.formatId,s={bidderCode:"smart-rtb+",cpm:e.cpm,size:e.size,adUnitName:i,adUnitPathSuffix:t,formatId:e.formatId,customFields:{}};this.onAdStream.next(s)}}function ve(e){if(e.includes("pubstackRefresh")){const t=e.find((e=>e.startsWith("pubstackRefreshRank")));if(void 0!==t&&t.includes(":")){const e=parseInt(t.split(":")[1])||0;return e>0?e:0}}return 0}class fe{constructor(){this.state=new E,this.forwarder=new ce(this.state),this.fallbackCurrency=void 0}bindIntegration(e){e instanceof he&&(e.onBidResponseStream.subscribe((e=>this.bidResponse(e)),$),e.onAuctionEndStream.subscribe((e=>this.auctionDone(e)),$),e.onBidWonStream.subscribe((e=>this.impression(e)),$),e.onBidWonFromSdkStream.subscribe((e=>this.impressionFromSdk(e)),$),this.fallbackCurrency=e.getAdServerCurrency()),e instanceof me&&e.onAdStream.subscribe((e=>this.impressionSas(e)),$)}helperToBidResponse(e,t){var i;const s=Object.assign({},e);s.state=b.BID,t.tags.forEach((e=>s.tags.add(e)));let n=t.size;return"native"===t.mediaType&&(n="native"),"video"===t.mediaType&&(n=`video-${n}`),s.size=n,s.cpm=t.cpm,s.currency=null!==(i=t.currency)&&void 0!==i?i:this.fallbackCurrency,s.bidResponseId=t.bidResponseId,s.bidderCode=t.bidderCode,s}bidResponse(e){d("[pubstackCoreController] onBidResponse",e),e.bidderCode="nexx360"===e.adapterCode?"nexx360":e.bidderCode;const t={auctionId:e.auctionId,state:b.BID,tags:new Set(e.tags),customFields:e.customFields};try{const i=this.state.getAuction(e.auctionId);if(i){const s=i.bidRequests.find((t=>t.bidId===e.bidId));s&&(i.bidRequests=i.bidRequests.filter((t=>t.bidId!==e.bidId)),i.bidRequests.push(Object.assign(Object.assign(Object.assign({},s),this.helperToBidResponse(t,e)),{tags:s.tags})))}}catch(e){}}helperAuctionBidToBidResponse(e){var t;const i=Object.assign(Object.assign({},e),{tags:new Set});if(e.state===b.BID){let s=e.size;"native"===e.mediaType&&(s="native"),"video"===e.mediaType&&(s=`video-${s}`),i.size=s,i.cpm=e.cpm,i.currency=null!==(t=e.currency)&&void 0!==t?t:this.fallbackCurrency,i.bidResponseId=e.bidResponseId,i.timeToRespond=e.timeToRespond,i.dealId=e.dealId}return e.tags.forEach((e=>i.tags.add(e))),i}bidWonToCoreBidResponse(e){var t,i;const s=ae(e.requestId);let n=e.size;return"native"===e.mediaType&&(n="native"),"video"===e.mediaType&&(n=`video-${n}`),{adId:e.adId,bidId:s,bidResponseId:ae(s,e.adId),bidderCode:"nexx360"===e.adapterCode?"nexx360":null!==(t=e.bidderCode)&&void 0!==t?t:"",cpm:e.cpm,size:n,state:b.BID,auctionId:e.auctionId,tags:new Set(e.tags),currency:null!==(i=e.currency)&&void 0!==i?i:this.fallbackCurrency,customFields:e.customFields,dealId:e.dealId}}auctionDone(e){d("[pubstackCoreController] onAuctionDone",e.auctionId);try{const t=(e.bidRequests||[]).map(this.helperAuctionBidToBidResponse),i=G(t),{userConsentState:s,userConsentVersion:n}=J(i),o={auctionId:e.auctionId,adUnit:e.adUnit,tags:new Set(e.tags),sizes:new Set(e.sizes),hasUserId:e.userId.hasUserId,userIdProviderList:e.userId.userIdProviderList,refreshIndex:e.refreshIndex,pbjsVersion:e.pbjsVersion,refresh:!1,pubstackRefresh:e.labels.includes("pubstackRefresh"),pubstackRefreshRank:ve(e.labels),userConsentState:s,userConsentVersion:n,bidRequests:t,customFields:e.customFields,duration:e.duration,timeout:e.timeout,state:"RUNNING"};this.state.setAuction(o);const a=()=>{const t=this.state.getAuction(e.auctionId);"FINISHED"!==t.state?(this.forwarder.pushNewAuction(t),t.state="FINISHED",this.state.setAuction(t)):d("[pubstackCoreController] auction is already finished",t)};void 0===e.gracePeriod?a():setTimeout((()=>a()),e.gracePeriod)}catch(e){d("[pubstackCoreController] error: cannot set auction as done because auction is not running")}}findBidResponseDuplicate(e){const t=this.state.storeCoreBidResponses.get(e.bidId),i=!!t&&t.bidResponseId===e.bidResponseId&&t.bidderCode===e.bidderCode;return i&&d("[pubstackCoreController] duplicate bid response found",e),i}_impression(e){if("FINISHED"===this.state.getAuction(e.auctionId).state)this.findBidResponseDuplicate(e)||this.forwarder.pushNewImpression(e);else{const t=i=>{i.auctionId===e.auctionId&&(this.findBidResponseDuplicate(e)||this.forwarder.pushNewImpression(e),this.forwarder.coreAuctionStream.unsubscribe(t))};this.forwarder.coreAuctionStream.subscribe(t)}}impression(e){d("[pubstackCoreController] onImpression",e);try{const t=this.bidWonToCoreBidResponse(e);this._impression(t)}catch(e){d("[pubstackCoreController] error: cannot create impression",e)}}impressionFromSdk(e){d("[pubstackCoreController] onImpression",e);try{const t=Array.from(this.state.storeAuctions.values()).find((t=>t.bidRequests.filter((e=>e.state===b.BID)).find((t=>t.adId===e.adId))));if(t){const i=t.bidRequests.filter((e=>e.state===b.BID)).find((t=>t.adId===e.adId));i.customFields=Object.assign(Object.assign({},i.customFields),e.customFields),this._impression(i)}}catch(e){d("[pubstackCoreController] error: cannot create impression",e)}}impressionSas(e){d("[pubstackCoreController] onImpressionSas",e);try{const t=this.state.findAuctionByAdUnitPath(e.adUnitPathSuffix);C(t,`onSasNewBidResponse: cannot retrieve related auction, @adUnitName=${e.adUnitName}, @adUnitPath=${e.adUnitPathSuffix}`),e.currency=this.fallbackCurrency,this.forwarder.impressionSasFormatAndForward(e,t.adUnit)}catch(e){d("[pubstackCoreController] error: cannot create impression",e)}}subscribe(e){this.forwarder.subscribe(e)}debug(){const e=[];return this.forwarder.subscribe({onAuction:t=>e.push(t),onImpression:t=>e.push(t)}),{auctions:this.state,auctionsDone:void 0,adUnits:void 0,events:e}}}const ge=(e,t)=>Object.entries(t).every((([t,i])=>typeof i==typeof{}&&typeof e[t]==typeof{}?ge(e[t],i):typeof e[t]==typeof i)),ye=(e,t)=>{if(t)for(let i=0;i<1e3;i+=1)try{const s=e([],{},[i]);try{if(ge(s,t))return s}catch(e){}}catch(e){}},Ie={AUCTION_INIT:"auctionInit",AUCTION_END:"auctionEnd",BID_TIMEOUT:"bidTimeout",BID_REQUESTED:"bidRequested",BID_RESPONSE:"bidResponse",BID_WON:"bidWon",NO_BID:"noBid"};function ke(e,t,i="prebid"){return{on(s,n){d(`[pbjsIntegration] pbjs.dispatcher (${i}) ${s}`,n),s===Ie.AUCTION_END&&t.onAuctionEnd(e.toAuctionEnd(n),i),s===Ie.BID_RESPONSE&&t.onBidResponse(e.toBidResponse(n)),s===Ie.BID_WON&&"prebid"===i&&t.onBidWon(e.toBidWon(n)),s===Ie.BID_WON&&"sdk"===i&&t.onBidWonFromSdk(e.toBidWonFromSdk(n))}}}function we(e){let t;if(void 0!==e)if(y(e))t=e;else if(I(e)){const i=Number(e);isNaN(i)||(t=i)}return void 0!==t?Math.trunc(t):t}function Ce(e){try{return function(e,t){if(null!=e&&"string"!=typeof e)throw new f(null!=t?t:"Expected value to be a string, undefined or null, but received "+typeof e)}(e),e}catch(e){return void d("Error on validator but not throwing since not mandatory",e.message)}}function Ae(){const e=e=>{var t,i;T(e,"Auction event's adUnits should all be objects"),w(e.code,'Auction event\'s adUnits should all have a key "code" as a string'),g(e.bids,'Auction event\'s adUnits should all have a key "bids" as an array');const s=e.bids.map((t=>{try{return(e=>{var t;T(e,"Auction event's adUnits bidders should all be objects"),w(e.bidder,'Auction event\'s adUnits bidders should all have a key "bidder" as a string');const i=null!==(t=e.params)&&void 0!==t?t:{};return T(i,'Auction event\'s adUnits bidders should all have a key "params" as an object'),{bidder:e.bidder,params:i}})(t)}catch(t){return void c(`[pbjsIntegration] Discarding bidder from ${e.code}`,t)}})).filter((e=>void 0!==e)),n={};if(e.mediaTypes){if(T(e.mediaTypes,'Auction event\'s adUnits should all have a key "mediaTypes" as an object'),e.mediaTypes.banner){T(e.mediaTypes.banner,'Auction event\'s adUnits mediaTypes can all have a key "banner" that should be an object');const i=null!==(t=e.mediaTypes.banner.sizes)&&void 0!==t?t:[];g(i,'Auction event\'s adUnits mediaTypes banner should all have a key "sizes" that should be an array');const s=i.filter((e=>Array.isArray(e)&&2===e.length)).map((e=>{try{return g(e),[parseInt(e[0]),parseInt(e[1])]}catch(e){return[0,0]}}));n.banner={sizes:s,sizeConfig:e.mediaTypes.banner.sizeConfig}}if(e.mediaTypes.native&&(n.native={sizes:"native"}),e.mediaTypes.video&&(T(e.mediaTypes.video,'Auction event\'s adUnits mediaTypes can all have a key "video" that should be an object'),e.mediaTypes.video.playerSize)){g(e.mediaTypes.video.playerSize,'Auction event\'s adUnits mediaTypes video should all have a key "playerSize" that should be an array');const t=(null!==(i=e.mediaTypes.video.playerSize)&&void 0!==i?i:[]).filter((e=>Array.isArray(e)&&2===e.length));n.video={playerSize:t}}}const o={bids:s,code:e.code,mediaTypes:n},a=e.pubstack;void 0!==a&&(T(a),o.pubstack=a);const r=(e=>{if(!S(e,"ortb2Imp"))return;const t=e.ortb2Imp;if(!S(t,"ext"))return;const i=t.ext;if(!S(i,"data"))return;const s=i.data;return S(s,"pbadslot")&&I(s.pbadslot)?{ext:{data:{pbadslot:s.pbadslot}}}:void 0})(e);return r&&(o.ortb2Imp=r),o},t=e=>{T(e,"Auction event's bidderRequests should all be objects"),w(e.bidderRequestId,'Auction event\'s bidderRequests should all have a key "bidderRequestId" as a string'),w(e.bidderCode,'Auction event\'s bidderRequests should all have a key "bidderCode" as a string'),g(e.bids,'Auction event\'s bidderRequests should all have a key "bids" as an array');const t=e.bids.map((t=>{try{return i(t,"Auction event's bidderRequests")}catch(t){return void c(`[pbjsIntegration] Discarding bid request from ${e.bidderRequestId}`,t)}})).filter((e=>void 0!==e)),s={bidderRequestId:e.bidderRequestId,bids:t,bidderCode:e.bidderCode};return e.gdprConsent&&(s.gdprConsent=e.gdprConsent),s},i=(e,t)=>{var i,s,n;T(e,t+"'s bids should all be objects"),w(e.adUnitCode,t+' bids should all have a key "adUnitCode" as a string'),w(e.bidId,t+' bids should all have a key "bidId" as a string'),w(e.bidder,t+' bids should all have a key "bidder" as a string');const o=null!==(i=e.params)&&void 0!==i?i:{};T(o,t+' bids can all have a key "params" that should be an object');const a=null!==(s=e.userId)&&void 0!==s?s:{};T(a,t+' bids can all have a key "userId" that should be an object');const r=null!==(n=e.crumbs)&&void 0!==n?n:{};return T(r,t+' bids can all have a key "crumbs" that should be an object'),{adUnitCode:e.adUnitCode,bidId:e.bidId,bidder:e.bidder,params:o,userId:a,crumbs:r}};return{toBidRejected:e=>(T(e,"BidRejected event should be an object"),w(e.requestId,'BidRequested event should have a "requestId" key as a string'),w(e.rejectionReason,'BidRejected event should have a "rejectionReason" key as a string'),{requestId:e.requestId,rejectionReason:e.rejectionReason}),toSeatNonBid:function(e){return T(e,"SeatNonBid event should be an object"),w(e.seat,'SeatNonBid event should have a "seat" key as a string'),g(e.nonbid,'SeatNonBid event should have a "seat" key as a string'),e.nonbid.map((t=>{try{return T(t,"Nonbid should be an object"),w(t.impid,'Nonbid should have a "impid" key as a string'),k(t.statuscode,'Nonbid should have a "statuscode" key as a number'),{impid:t.impid,statuscode:t.statuscode}}catch(t){return void c(`[pbjsIntegration] Discarding Nonbid from auction event ${e.auctionId}`,t)}})).filter((e=>void 0!==e)),{seat:e.seat,nonbid:e.nonbid}},toAuctionEnd:function(i){let s,n,o=[];T(i,"Auction event should be an object"),w(i.auctionId,'Auction event should have a "auctionId" key as a string'),g(i.adUnits,'Auction event should have a "adUnits" key as a non-empty array'),A(i.adUnits,'Auction event should have a "adUnits" key as a non-empty array'),void 0!==i.labels&&(g(i.labels,'Auction event can have a "labels" key that should be an array'),n=i.labels),g(i.bidderRequests,'Auction event should have a "bidderRequests" key as a non-empty array'),A(i.bidderRequests,'Auction event should have a "bidderRequests" key as a non-empty array');const a=we(i.timeout);i.timeout&&!a&&c(`[pbjsIntegration] unable to read timeout from auction event ${i.auctionId}`);const r=i.adUnits.map((t=>{try{return e(t)}catch(e){return void c(`[pbjsIntegration] Discarding adUnit from auction event ${i.auctionId}`,e)}})).filter((e=>void 0!==e)),u=i.bidderRequests.map((e=>{try{return t(e)}catch(e){return void c(`[pbjsIntegration] Discarding bidderRequest from auction event ${i.auctionId}`,e)}})).filter((e=>void 0!==e));g(i.bidsReceived,'Auction event should have a "bidsReceived" key as a non-empty array');const l=i.bidsReceived.map((e=>{try{return this.toBidResponse(e)}catch(e){return void c(`[pbjsIntegration] Discarding bidReceived from auction event ${i.auctionId}`,e)}})).filter((e=>void 0!==e));g(i.adUnitCodes,'Auction event should have a "adUnitCodes" key as a non-empty array'),A(i.adUnitCodes,'Auction event should have a "adUnitCodes" key as a non-empty array');try{g(i.bidsRejected,'Auction event should have a "bidsRejected" key as an array'),o=i.bidsRejected.map((e=>{try{return this.toBidRejected(e)}catch(e){return void c(`[pbjsIntegration] Discarding bidRejected from auction event ${i.auctionId}`,e)}})).filter((e=>void 0!==e))}catch(e){d("Error on validator but not throwing since not mandatory",e.message)}g(i.noBids,'Auction event should have a "noBids" key as an array');const b=i.noBids.map((e=>{try{return this.toNoBid(e)}catch(e){return void c(`[pbjsIntegration] Discarding noBid from auction event ${i.auctionId}`,e)}})).filter((e=>void 0!==e));try{g(i.seatNonBids,'Auction event should have a "noBids" key as an array'),s=i.seatNonBids.map((e=>{try{return this.toSeatNonBid(e)}catch(e){return void c(`[pbjsIntegration] Discarding SeatNonBids from auction event ${i.auctionId}`,e)}})).filter((e=>void 0!==e))}catch(e){d("Error on validator but not throwing since not mandatory",e.message)}return function(e,t,i){if(!t.includes(e))throw new f(null!=i?i:`Expected values to be one of '${t}', but received ${e}`)}(i.auctionStatus,["completed","inProgress","started"]),k(i.auctionEnd),k(i.timestamp),{auctionId:i.auctionId,bidderRequests:u,adUnits:r,labels:n,timeout:a,auctionEnd:i.auctionEnd,auctionStatus:i.auctionStatus,noBids:b,adUnitCodes:i.adUnitCodes,bidsRejected:o,bidsReceived:l,timestamp:i.timestamp,winningBids:[],seatNonBids:s}},toAuction:function(i){let s;T(i,"Auction event should be an object"),w(i.auctionId,'Auction event should have a "auctionId" key as a string'),g(i.adUnits,'Auction event should have a "adUnits" key as a non-empty array'),A(i.adUnits,'Auction event should have a "adUnits" key as a non-empty array'),void 0!==i.labels&&(g(i.labels,'Auction event can have a "labels" key that should be an array'),s=i.labels),g(i.bidderRequests,'Auction event should have a "bidderRequests" key as a non-empty array'),A(i.bidderRequests,'Auction event should have a "bidderRequests" key as a non-empty array');const n=we(i.timeout);i.timeout&&!n&&c(`[pbjsIntegration] unable to read timeout from auction event ${i.auctionId}`);const o=i.adUnits.map((t=>{try{return e(t)}catch(e){return void c(`[pbjsIntegration] Discarding adUnit from auction event ${i.auctionId}`,e)}})).filter((e=>void 0!==e)),a=i.bidderRequests.map((e=>{try{return t(e)}catch(e){return void c(`[pbjsIntegration] Discarding bidderRequest from auction event ${i.auctionId}`,e)}})).filter((e=>void 0!==e));return{auctionId:i.auctionId,bidderRequests:a,adUnits:o,labels:s,timeout:n}},toBidRequested(e){T(e,"BidRequested event should be an object"),w(e.auctionId,'BidRequested event should have a "auctionId" key as a string'),g(e.bids,'BidRequested event should have a "bids" key as an array');const t=e.bids.map((t=>{try{return i(t,"BidRequested event")}catch(t){return void c(`[pbjsIntegration] Discarding bid request from bid requested event ${e.auctionId}`,t)}})).filter((e=>void 0!==e)),s={auctionId:e.auctionId,bids:t};return e.gdprConsent&&(s.gdprConsent=e.gdprConsent),s},toBidResponse(e){var t;T(e,"BidResponse event should be an object"),w(e.auctionId,'BidRequested event should have a "auctionId" key as a string'),w(e.adUnitCode,'BidRequested event should have a "adUnitCode" key as a string'),w(e.adId,'BidRequested event should have a "adId" key as a string'),w(e.requestId,'BidRequested event should have a "requestId" key as a string');const i=I(e.cpm)?Number.parseFloat(e.cpm):e.cpm;let s;const n=Ce(e.dealId);k(i,'BidRequested event should have a "cpm" key as a number');let o,a=e.size;"string"!=typeof a&&(a=e.width&&e.height?`${e.width}x${e.height}`:"unknown"),w(e.mediaType,'BidRequested event should have a "mediaType" key as a string'),w(a,'BidRequested event should have a "size" key as a string'),I(e.currency)&&(o=e.currency),w(e.bidderCode,'BidResponse event should have a "bidderCode" key as a string'),function(e,t){if(null!=e&&!y(e))throw new f(null!=t?t:"Expected value to be a number, but received "+typeof e)}(e.timeToRespond);try{w(e.adapterCode,'BidWon event should have a "bidderCode" key as a string'),s=e.adapterCode}catch(e){d("Error on validator but not throwing since not mandatory",e.message)}return{adId:e.adId,adUnitCode:e.adUnitCode,auctionId:e.auctionId,cpm:i,currency:o,requestId:e.requestId,size:a,bidderCode:e.bidderCode,mediaType:null!==(t=e.mediaType)&&void 0!==t?t:"banner",timeToRespond:e.timeToRespond,adapterCode:s,dealId:n}},toBidTimeout(e){g(e,"BidTimeout event should be an array");const t=[];return e.forEach((e=>{try{T(e,"BidTimeout events should all be objects"),w(e.adUnitCode,'BidTimeout events should all have a key "adUnitCode" as a string'),w(e.auctionId,'BidTimeout events should all have a key "auctionId" as a string'),w(e.bidId,'BidTimeout events should all have a key "bidId" as a string'),t.push({adUnitCode:e.adUnitCode,auctionId:e.auctionId,bidId:e.bidId})}catch(t){d("Discarding bid timeout event because ",t.message,e)}})),t},toNoBid:e=>(T(e,"NoBid event should be an object"),w(e.auctionId,'NoBid event should have a "auctionId" key as a string'),w(e.bidId,'NoBid event should have a "bidId" key as a string'),w(e.adUnitCode,'NoBid event should have a "adUnitCode" key as a string'),{bidId:e.bidId,adUnitCode:e.adUnitCode,auctionId:e.auctionId}),toBidWon(e){var t;let i,s,n,o,a,r;T(e,"BidWon event should be an object"),w(e.adId,'BidWon event should have a "adId" key as a string'),w(e.requestId,'BidWon event should have a "requestId" key as a string');const c=Ce(e.dealId);I(e.currency)&&(r=e.currency);const u=I(e.cpm)?Number.parseFloat(e.cpm):e.cpm;k(u,'BidRequested event should have a "cpm" key as a number'),w(e.mediaType,'BidRequested event should have a "mediaType" key as a string'),w(e.size,'BidWon event should have a "size" key as a string'),a=e.size,w(e.auctionId,'BidWon event should have a "auctionId" key as a string'),i=e.auctionId,w(e.adUnitCode,'BidWon event should have a "adUnitCode" key as a string'),s=e.adUnitCode;try{w(e.bidderCode,'BidWon event should have a "bidderCode" key as a string'),n=e.bidderCode}catch(e){d("Error on validator but not throwing since not mandatory for monitoring (only for refresh)",e.message)}try{w(e.adapterCode,'BidWon event should have a "bidderCode" key as a string'),o=e.adapterCode}catch(e){d("Error on validator but not throwing since not mandatory",e.message)}return g(e.params),{adId:e.adId,adUnitCode:s,auctionId:i,bidderCode:n,adapterCode:o,size:a,requestId:e.requestId,currency:r,cpm:u,mediaType:null!==(t=e.mediaType)&&void 0!==t?t:"banner",params:e.params,dealId:c}},toBidWonFromSdk:e=>(T(e,"BidWon event should be an object"),w(e.adId,'BidWon event should have a "adId" key as a string'),{adId:e.adId})}}const Re=400;class Te{constructor(){this.state="new",this.elapsedTime=0,this.timeTargets=[]}start(){return"stopped"===this.state&&(this.elapsedTime=0),"started"===this.state?this.elapsed():(this.state="started",this.timeoutId=setTimeout((()=>this.update()),Te.pacing),this.elapsedTime)}pause(){if("paused"===this.state||"stopped"===this.state)return this.elapsedTime;const e=this.update();return this.state="paused",e}stop(){if("stopped"===this.state)return this.elapsedTime;const e=this.update();return this.state="stopped",e}elapsed(){return"started"===this.state&&this.update(),this.elapsedTime}timeTargetReached(e){return new Promise((t=>{this.timeTargets.push([e,t])}))}update(){let e=Te.pacing;if("started"===this.state){this.elapsedTime+=e;for(let t=this.timeTargets.length;t--;){const[i,s]=this.timeTargets[t];this.elapsedTime>=i?(s(i),this.timeTargets.splice(t,1)):e=Math.min(e,i-this.elapsedTime)}}return"stopped"!==this.state&&(this.timeoutId&&clearTimeout(this.timeoutId),this.timeoutId=setTimeout((()=>this.update()),e)),this.elapsedTime}}Te.pacing=100;class Se{constructor(e,t,i,s,n){this.creative=s,this.timer=new Te,this.inViewPercentage=e,this.cumulative=i,this.timer.timeTargetReached(t).then((()=>{n()}))}pauseTimer(){this.timer.pause()}startTimer(){this.timer.start()}stopTimer(){this.timer.stop()}getElapsed(){return this.timer.elapsed()}isViewable(){return this.inView}intersectionChange(e){this.creative.visibilityRatioFromIntersection(e)>=this.inViewPercentage?this.inView||(this.timer.start(),this.inView=!0):this.inView&&(this.cumulative?this.timer.pause():this.timer.stop(),this.inView=!1)}getTimerState(){return this.timer.state}}class Ee{constructor(e){this.adUnit=e}visibilityRatioFromIntersection(e){const t=Ue(this.adUnit,this.adUnit);if(this.adUnit===t)return e.intersectionRatio;const i=t.getBoundingClientRect();return e.intersectionRect.height/i.height}}const Ue=(e,t)=>(je(e)<je(t)&&(e=t),Array.from(t.children).filter((e=>e instanceof HTMLElement)).forEach((t=>{e=Ue(e,t)})),e),je=e=>e.getBoundingClientRect?e.getBoundingClientRect().height:0,Be={root:null,rootMargin:"0px",threshold:[0,.3,.5,1]};class Ne{constructor(e,t,i){this.windowActive=!0,this.pbstckWindow=i,this.visibilityState=i.document.visibilityState,this.trackedOnFocusChange=this.onFocusChange.bind(this),i.addEventListener("focus",this.trackedOnFocusChange),i.addEventListener("blur",this.trackedOnFocusChange),this.trackedOnVisibilityChange=this.onVisibilityChange.bind(this),i.addEventListener("visibilitychange",this.trackedOnVisibilityChange);const s=this.getObserverThresholds(t);this.observer=new IntersectionObserver((e=>this.intersectionObserverCallback(e)),s),this.observer.observe(e);const n=new Ee(e);this.computer=new Se(t.minPercentageInView,t.minTimeInView,t.cumulativeTimer,n,(()=>t.completionCallback(e.id))),"hidden"!==this.visibilityState&&this.windowActive||this.stop()}getObserverThresholds(e){return.3===e.minPercentageInView?Object.assign(Object.assign({},Be),{threshold:[.3,.5,.75,1]}):Object.assign(Object.assign({},Be),{threshold:[.5,.75,1]})}onVisibilityChange(){this.visibilityState="visible"===this.visibilityState?"hidden":"visible",this.checkWindowActive()}onFocusChange(e){this.windowActive="focusin"===e.type||"focus"===e.type,this.checkWindowActive()}checkWindowActive(){"visible"===this.visibilityState&&this.windowActive?this.start():this.pause()}destroy(){var e;this.stop(),null===(e=this.observer)||void 0===e||e.disconnect(),this.pbstckWindow.removeEventListener("visibilitychange",this.trackedOnVisibilityChange),this.pbstckWindow.removeEventListener("focus",this.trackedOnFocusChange),this.pbstckWindow.removeEventListener("blur",this.trackedOnFocusChange),this.computer=null,this.observer=null}getElapsed(){return null===this.computer?0:this.computer.getElapsed()}pause(){var e;null===(e=this.computer)||void 0===e||e.pauseTimer()}start(){var e;null===(e=this.computer)||void 0===e||e.startTimer()}stop(){var e;null===(e=this.computer)||void 0===e||e.stopTimer()}intersectionObserverCallback(e){e.forEach((e=>{var t;null===(t=this.computer)||void 0===t||t.intersectionChange(e)}))}getTimerState(){var e;return null===(e=this.computer)||void 0===e?void 0:e.getTimerState()}}const Oe={viewableTime:1e3,largeAdunitSize:242e3,largeAdunitTreshold:.3,standardAdunitTreshold:.5};class Ve{constructor(e,t){this.viewabilityState=new Map,this.viewedTimeState=new Map,this.elementIdToCode=new Map,this.viewabilityStream=new U,this.viewedStream=new U,d("[pubstackViewability] Create ViewabilityController with config",Oe),this.pbstckWindow=t,this.pbstckWindow.addEventListener("unload",(()=>this.unloadMeasuredImpressions())),e.forwarder.coreImpressionStream.subscribe((e=>{d("[pubstackViewability] Receive impression",e.bidderCode,e.adUnit.code),this.track(e)})),e.forwarder.coreAuctionStream.subscribe((e=>{d("[pubstackViewability] Receive auctionend",e.adUnit.code),this.endMeasure(e.adUnit.code)}))}onUnload(e){this.unloadCallback=e}endMeasure(e){d("[pubstackViewability] receive event to stop measure");const t=this.viewedTimeState.get(e);void 0!==t?(t.viewabilitytracker.stop(),this.onMeasurable(e)):d("[pubstackViewability] event received but no tracker to stop, skipping")}track(e){if(!e.viewabilityMeasurable)return void d("[pubstackViewability] Cannot track impression for adUnit ",e.adUnit);const t=X(e.adUnit);null!==t?(this.trackViewability(e,t),this.trackMeasure(e,t)):$(new Error(`[pubstackViewability] Unexpected null HTML Element on viewable impression for adUnit ${e.adUnit.name}`))}trackMeasure(e,i){return t(this,void 0,void 0,(function*(){var t;let s=null===(t=this.viewedTimeState.get(e.adUnit.code))||void 0===t?void 0:t.viewabilitytracker;this.elementIdToCode.set(i.id,e.adUnit.code),void 0!==s&&(d(`[pubstackViewability] replacing existing measurability tracker on ${i.id}`),s.stop(),this.onMeasurable(e.adUnit.code)),d(`[pubstackViewability] tracking code ${e.adUnit.code} with rule MRC for measurability`);const n={minPercentageInView:this.minPercentageInView(i,Oe),minTimeInView:18e4,cumulativeTimer:!0,completionCallback:e=>{const t=this.elementIdToCode.get(e);void 0!==t?this.onMeasurable(t):d(`[pubstackViewability] unable to find matching adunitcode for element ${e}`)}};s=new Ne(i,n,this.pbstckWindow),this.viewedTimeState.set(e.adUnit.code,{impression:e,viewabilitytracker:s})}))}trackViewability(e,i){return t(this,void 0,void 0,(function*(){var t;let s=null===(t=this.viewabilityState.get(i.id))||void 0===t?void 0:t.viewabilitytracker;void 0!==s&&(d(`[pubstackViewability] replacing existing tracker on ${i.id}`),s.destroy(),this.viewabilityState.delete(i.id)),d(`[pubstackViewability] tracking element ${i.id} with rule MRC for monitoring`);const n={minPercentageInView:this.minPercentageInView(i,Oe),minTimeInView:Oe.viewableTime,cumulativeTimer:!1,completionCallback:e=>this.onViewable(e)};s=new Ne(i,n,this.pbstckWindow),this.viewabilityState.set(i.id,{impression:e,viewabilitytracker:s})}))}minPercentageInView(e,t){const i=window.getComputedStyle(e);return Number(i.getPropertyValue("width").replace(/px/,""))*Number(i.getPropertyValue("height").replace(/px/,""))>t.largeAdunitSize?t.largeAdunitTreshold:t.standardAdunitTreshold}unloadMeasuredImpressions(){if(d("[pubstackViewability] page unloaded, forwarding impressions measured"),void 0!==this.unloadCallback){const e=[];Array.from(this.viewedTimeState.values()).forEach((t=>{if(void 0!==t.viewabilitytracker){t.viewabilitytracker.stop();const i=Math.floor(t.viewabilitytracker.getElapsed()/1e3);i>0&&e.push({bidId:t.impression.bidId,auctionId:t.impression.auctionId,lastAuctionId:t.impression.lastAuctionId,adUnit:t.impression.adUnit,bidderCode:t.impression.bidderCode,pbjsVersion:t.impression.pbjsVersion,cpm:t.impression.cpm,currency:t.impression.currency,refresh:t.impression.refresh,size:t.impression.size,viewedTime:i,pubstackRefresh:t.impression.pubstackRefresh,pubstackRefreshRank:t.impression.pubstackRefreshRank})}})),e.length>0&&this.unloadCallback(e)}}onMeasurable(e){d(`[pubstackViewability] Measurability Event on AdUnit code ${e}`);const t=this.viewedTimeState.get(e);if(void 0===t)return void $(new Error(`[pubstackViewability] Impression not found for AdUnit code ${e}`));this.viewedTimeState.delete(e);if(Math.floor(t.viewabilitytracker.getElapsed()/1e3)>0){const e=t.impression,i={bidId:e.bidId,auctionId:e.auctionId,lastAuctionId:e.lastAuctionId,adUnit:e.adUnit,bidderCode:e.bidderCode,pbjsVersion:e.pbjsVersion,cpm:e.cpm,currency:e.currency,refresh:e.refresh,size:e.size,viewedTime:Math.floor(t.viewabilitytracker.getElapsed()/1e3),pubstackRefresh:e.pubstackRefresh,pubstackRefreshRank:e.pubstackRefreshRank};d(`[pubstackViewability] Forwarding measured impression on code ${e.adUnit.code}`),this.viewedStream.next(i)}t.viewabilitytracker.destroy()}onViewable(e){d(`[pubstackViewability] Viewability Event on element ${e}`);const t=this.viewabilityState.get(e);if(void 0===t)return void $(new Error(`[pubstackViewability] Impression not found for ElementId ${e}`));this.viewabilityState.set(e,t);const i=t.impression,s={bidId:i.bidId,auctionId:i.auctionId,lastAuctionId:i.lastAuctionId,adUnit:i.adUnit,bidderCode:i.bidderCode,pbjsVersion:i.pbjsVersion,cpm:i.cpm,currency:i.currency,refresh:i.refresh,size:i.size,htmlElementId:e,pubstackRefresh:i.pubstackRefresh,pubstackRefreshRank:i.pubstackRefreshRank};d(`[pubstackViewability] Forwarding viewable impression ${s.htmlElementId}`),this.viewabilityStream.next(s)}}function $e(e,t){return"object"==typeof t&&t instanceof Set?Array.from(t):t}function qe(e,t){return"tags"!==e&&"sizes"!==e||!Array.isArray(t)?t:new Set(t)}class xe{constructor(e){this.coreEvents=[],this.errors=[],e.forwarder.coreAuctionStream.subscribe((e=>this.addEvent(e))),e.forwarder.coreImpressionStream.subscribe((e=>this.addEvent(e)))}addEvent(e){this.coreEvents.push(e)}addError(e){this.errors.push(e)}getEvents(){return this.coreEvents.map((e=>JSON.parse(JSON.stringify(e,$e),qe)))}getErrors(){return this.errors}}const Fe=e=>{var t;const i=null!==(t=null==e?void 0:e.host)&&void 0!==t?t:"unknown";return i.startsWith("www.")?i.substring(4):i},ze=e=>{let t;return t=e&&e.protocol&&e.host&&e.pathname?`${e.protocol}//${e.host}${e.pathname}`:"unknown",t};function De(e){var t;const i="pbstck_context";let s=null===(t=ee(i).find((e=>"pbstck_ab_test"===te(e.name,i))))||void 0===t?void 0:t.content;return s&&!e.includes(s)&&(s=void 0),s}class Me{constructor(e,t,i,s,n){var o;this.items=[],this.url=e,this.buffer=null!==(o=null==n?void 0:n.buffer)&&void 0!==o?o:Me.defaults.buffer,this.sender=t,this.context=i,this.abTestValues=s}buildUrl(){const e=this.context.customFields["kleanads-version"],t=this.context.customFields["config-version"],i=this.items.reduce(((e,t)=>e+(t.pubstackRefresh?1:0)),0),s=e?`&v=${e}&s=${t}`:"",n=i>0?`&rc=${i}`:"";return`${this.url}?tId=${this.context.tagId}&c=${this.items.length}${s}${n}`}batchThenSend(e,t=!0){const i=t?Pe(e,this.context,this.abTestValues):e;if(this.items.push(i),0===this.buffer)return this.flush();1===this.items.length&&setTimeout((()=>this.flush()),this.buffer)}flush(){0!==this.items.length&&(this.sender(this.buildUrl(),[...this.items]),this.reset())}reset(){this.items=[]}}Me.defaults={buffer:150};const Pe=(e,t,i)=>{const{customFields:s}=t,{customFields:n}=e,o=Object.assign(Object.assign(Object.assign({},n),s),{pageId:window.__pbstck_page_id||"unknown"});return Object.assign(Object.assign(Object.assign({},e),t),{customFields:o,abTestPopulation:i?De(i):void 0,domain:Fe(window.location),href:ze(window.location),kleanAdsStackVersion:o["config-version"],kleanAdsStackId:o["kleanads-stack-id"]})};class _e{constructor(e,t,i){this.url=e,this.context=i,this.sender=t}buildUrl(e){return`${this.url}?sId=${this.context.scopeId.substring(0,8)}&tId=${this.context.tagId}&c=${e}&ctr=${this.context.country}`}send(e){const t=e.map((e=>Le(e,this.context)));this.sender(this.buildUrl(t.length),t)}}const Le=(e,t)=>Object.assign(Object.assign(Object.assign({},e),t),{domain:Fe(window.location),href:ze(window.location)}),We=re();class Ge{constructor(e,t,i,s,n){const o=e.slice(0,-7);this.viewabilityGateway=new Me(`${e}/viewability`,Je,t,n),this.auctionGateway=new Me(`${e}/auction`,Je,t,n),this.impressionGateway=new Me(`${e}/impression`,Je,t,n),this.errorGateway=new Me(`${e}/error`,Je,t,n),this.traceGateway=new Me(`${o}/trace`,Je,t,void 0,{buffer:5e3}),this.measuredImpressionGateway=new Me(`${e}/measured`,Je,t,n),this.measuredImpressionBeaconGateway=new _e(`${e}/measured`,He,t),this.pageGateway=new Me(`${e}/page`,Je,t,n),this.bindController(i,s)}bindController(e,t){e.forwarder.coreAuctionStream.subscribe((e=>this.formatAndForwardAuction(e))),e.forwarder.coreImpressionStream.subscribe((e=>{this.formatAndForwardImpression(e)})),void 0!==t&&(t.viewabilityStream.subscribe((e=>{this.formatAndForwardViewability(e)})),t.viewedStream.subscribe((e=>{this.formatAndForwardMeasuredImpression(e)})),t.onUnload((e=>this.formatAndForwardMeasuredImpressionForBeacon(e))))}formatAndForwardAuction(e){const t=[];e.bidRequests.forEach((e=>{t.push({bidId:h(e),bidderCode:e.bidderCode,state:e.state,tags:0===e.tags.size?void 0:Array.from(e.tags),cpm:p(e)?e.cpm:void 0,currency:p(e)?e.currency:void 0,size:p(e)?e.size:void 0,customFields:e.customFields,timeToRespond:e.timeToRespond,rejectionReason:e.rejectionReason,dealId:p(e)?e.dealId:void 0})}));const i=void 0===e.userConsentState?"notAvailable":e.userConsentState,s=void 0===e.userConsentVersion?"notAvailable":e.userConsentVersion,n={auctionId:e.auctionId,adUnit:e.adUnit.name,adUnitPath:e.adUnit.path,sizes:Array.from(e.sizes),tags:0===e.tags.size?void 0:Array.from(e.tags),refresh:e.refresh,userConsentState:i,userConsentVersion:s,hasUserId:e.hasUserId,userIdProviderList:e.userIdProviderList,pbjsVersion:e.pbjsVersion,bidRequests:t,pubstackManaged:!1,pubstackRefresh:e.pubstackRefresh,pubstackRefreshRank:e.pubstackRefreshRank,customFields:e.customFields,duration:e.duration,timeout:e.timeout};this.auctionGateway.batchThenSend(n)}formatAndForwardImpression(e){const t={bidId:e.bidId,auctionId:e.auctionId,lastAuctionId:e.lastAuctionId,adUnit:e.adUnit.name,adUnitPath:e.adUnit.path,bidderCode:e.bidderCode,cpm:e.cpm,currency:e.currency,refresh:e.refresh,size:e.size,userConsentState:e.userConsentState,userConsentVersion:e.userConsentVersion,hasUserId:e.hasUserId,userIdProviderList:e.userIdProviderList,pbjsVersion:e.pbjsVersion,cpmUplift:e.cpmUplift,dealId:e.dealId,tags:Array.from(e.tags),viewabilityMeasurable:e.viewabilityMeasurable,pubstackManaged:!1,pubstackRefresh:e.pubstackRefresh,pubstackRefreshRank:e.pubstackRefreshRank,customFields:e.customFields};this.impressionGateway.batchThenSend(t)}formatAndForwardViewability(e){const t={bidId:e.bidId,auctionId:e.auctionId,lastAuctionId:e.lastAuctionId,adUnit:e.adUnit.name,adUnitPath:e.adUnit.path,bidderCode:e.bidderCode,pbjsVersion:e.pbjsVersion,cpm:e.cpm,currency:e.currency,size:e.size,refresh:e.refresh,htmlElementId:e.htmlElementId,mrcViewable:!0,pubstackManaged:!1,pubstackRefresh:e.pubstackRefresh,pubstackRefreshRank:e.pubstackRefreshRank};this.viewabilityGateway.batchThenSend(t)}formatAndForwardMeasuredImpression(e){const t={bidId:e.bidId,auctionId:e.auctionId,lastAuctionId:e.lastAuctionId,adUnit:e.adUnit.name,adUnitPath:e.adUnit.path,bidderCode:e.bidderCode,cpm:e.cpm,currency:e.currency,refresh:e.refresh,size:e.size,pbjsVersion:e.pbjsVersion,viewedTime:e.viewedTime,pubstackManaged:!1,pubstackRefresh:e.pubstackRefresh,pubstackRefreshRank:e.pubstackRefreshRank};this.measuredImpressionGateway.batchThenSend(t)}formatAndForwardMeasuredImpressionForBeacon(e){const t=e.map((e=>({bidId:e.bidId,auctionId:e.auctionId,lastAuctionId:e.lastAuctionId,adUnit:e.adUnit.name,adUnitPath:e.adUnit.path,bidderCode:e.bidderCode,cpm:e.cpm,currency:e.currency,refresh:e.refresh,size:e.size,pbjsVersion:e.pbjsVersion,viewedTime:e.viewedTime,pubstackManaged:!1,pubstackRefresh:e.pubstackRefresh,pubstackRefreshRank:e.pubstackRefreshRank})));this.measuredImpressionBeaconGateway.send(t)}sendError(e){this.errorGateway.batchThenSend(e)}sendLog(e){this.traceGateway.batchThenSend(e,!1)}sendToDatadog(e){var t;if(void 0===e.error||""===e.error)return;const i=e.error,s=null!==(t=e.context)&&void 0!==t?t:{};T(s),w(i);const n=Object.assign(Object.assign({pageId:We,status:"error",domain:Fe(window.location),href:ze(window.location)},s),{message:i}),o=new XMLHttpRequest;o.open("POST","https://browser-http-intake.logs.datadoghq.com/v1/input/pub551f730416e5317842afc2792691e95c?ddsource=browser&ddtags=version:1.3.2",!0),o.setRequestHeader("Content-Type","text/plain"),o.send(JSON.stringify(n))}}const Je=(e,t)=>{const i=new XMLHttpRequest;i.open("POST",e,!0),i.setRequestHeader("Content-Type","text/plain"),i.send(JSON.stringify(t)),d("post",e,t)},He=(e,t)=>{const i=JSON.stringify(t);navigator.sendBeacon(e,i),d("beacon",e,t)},Qe=(e,t)=>{if(!e||!t)throw new Error("IllegalArgumentException");return`${e}_${t}`},Ye=20;function Ke(){const e="pbstck",t=new Map;ee(e).forEach((i=>{const s=te(i.name,e);t.has(s)&&c(`Custom dim ${s} is present many times`),t.size<Ye?t.set(s,i.content):c(`Skipping custom dim ${s} with ${i.content}: limit of ${Ye} keys exceeded`)}));const i=Object.assign({},...Array.from(t.entries()).map((([e,t])=>({[e]:t}))));return t.size>0&&d("Custom dim found :",i),i}const Xe=e=>{const t=[];return JSON.parse(JSON.stringify(e,((e,i)=>{if("object"==typeof i&&null!==i){if(t.includes(i))return;t.push(i)}return i})))},Ze=(e,t)=>{const i=Ae(),s=new he(void 0),n=ke(i,s,"sdk");t.bindIntegration(s),e.subscribe((([e,[t]])=>{try{n.on(e,t)}catch(e){e.context=e.context||{},e.context.pbjs={source:"sdk:pbjs"},$(e)}}))},et=(e,t,i)=>{const s=e;s[i]=s[i]||[];const n=s[i];e.pbstck=e.pbstck||{},e.pbstck.sdk=e.pbstck.sdk||{},e.pbstck.sdk[t]=e.pbstck.sdk[t]||{p:[],q:n},e.pbstck.sdk[t].p=e.pbstck.sdk[t].p||[],e.pbstck.sdk[t].q=e.pbstck.sdk[t].q||n,e.pbstck.sdk[t].q!==n&&(e.pbstck.sdk[t].q=e.pbstck.sdk[t].q.concat(n));const o={cmd:(...i)=>{const s=["cmd",i];(e.pbstck.sdk[t].q||[]).push(s),(e.pbstck.sdk[t].p||[]).forEach((e=>e(s)))}};return e.Pubstack=o,o};function tt(e,t,i){const s=new U,n=[];et(e,i.tagId,i.globalQueue);const o=e[i.globalQueue],a=t=>{!function(e,t){if(void 0!==e)throw new f(null!=t?t:`Expected value to be undefined, but received ${e}`)}(Object.values(e.pbstck.sdk).find((t=>t!==e.pbstck.sdk[i.tagId]&&t.q===o)),`Concurrency on '${i.globalQueue}' globalQueue (more than 1 destination configured)`),s.next([t[0],Xe(Object.values(t[1]))])};return s.subscribe(((...e)=>n.push(e))),Ze(s.pipe(...j(/cmd/)).pipe(...j(/pbjs|prebid/)),t),{debug:()=>({events:n}),dispatchEvents:()=>{e.pbstck.sdk[i.tagId].q.forEach(a),e.pbstck.sdk[i.tagId].p.push(a)}}}const it={CALL:"call",AD_CALLBACK:"pbstck:ad"};const st=()=>({toAd(e,t){T(e),C(t,"toAd: id is undefined"),C(e.formatId,"toAd: formatId is undefined"),w(t),function(e,t,i){if(!S(e,t))throw new f(null!=i?i:`Expected object to have key '${t}', but not found`)}(e,"formatId");const i="string"==typeof e.size?e.size:"unknown";return{cpm:y(e.cpm)?e.cpm:0,size:i,formatId:y(e.formatId)?e.formatId.toString():e.formatId}}});const nt=new WeakSet;function ot(e,t,i){const s=e[i.globalName];if(void 0===s||!s.__smartLoaded)return{status:l.NOT_READY};const n=st(),o=new me,a=function(e,t){return{on(i,s,n){d("sas.dispatcher",i,s),i===it.AD_CALLBACK&&t.onAd(e.toAd(s,n))}}}(n,o);t.bindIntegration(o);const r=[];if(nt.has(s))return{status:l.LOADED};nt.add(s);const c=Object.values(it);return c.forEach((e=>{s.events.on(e,((t,i)=>{const s=Xe(t);r.push({eventName:e,data:s,id:i});try{a.on(e,s,i)}catch(e){e.context=e.context||{},e.context.adapter={source:"sas:on"},$(e)}}))})),s.events.history().filter((({eventName:e})=>c.includes(e))).map(Xe).forEach((({eventName:e,data:t,id:i})=>{const s=Xe(t);r.push({eventName:e,data:s,id:i});try{a.on(e,t,i)}catch(e){e.context=e.context||{},e.context.adapter={source:"sas:replayed"},$(e)}})),{status:l.LOADED,instance:{debug:()=>({events:r})}}}const at=new U;function rt(e,i,s){var n;e.pbstck=e.pbstck||{lock:{}},e.pbstck.lock=e.pbstck.lock||{},e.pbstck.scopeId=s.scopeId,e.pbstck.tagId=s.tagId;const o={},a=`${s.tagId}@${i.gateway}@collector`;if(function(e,t){return e[t]}(e.pbstck.lock,a))return;!function(e,t){e[t]=!0}(e.pbstck.lock,a);const c=new fe;let l;o.core=c,i.viewabilityEnabled&&(l=new Ve(c,e),o.viewability=l);const b=new Ge(i.gateway,s,c,l,i.abTestValues);var p;o.intake=b,O((e=>b.sendError(e)),1),p=e=>b.sendLog(e),at.subscribe(p),function(e){N.subscribe(e)}((e=>b.sendToDatadog(e)));const h=new Promise(((s,n)=>{if(i.pbjsVariableName){d("Prebid dropin mode",i.pbjsVariableName);const a={debug:r(),globalName:i.pbjsVariableName},l=function(e,t){return e[t.globalName]||(e[t.globalName]={}),e[t.globalName].que||(e[t.globalName].que=[]),e[t.globalName].que}(e,a);l.push((()=>t(this,void 0,void 0,(function*(){var t,i;const r=e[a.globalName],l=null!==(t=Number(r.getConfig("timeoutBuffer")))&&void 0!==t?t:Re,b=null===(i=r.getConfig("currency"))||void 0===i?void 0:i.adServerCurrency;let p;I(b)&&(p=b);const h=new he({version:r.version,gracePeriod:l,adServerCurrency:p,pbjsVariableName:a.globalName});o.prebid=h;try{o.prebid=function(e,t,i,s){const n=e[s.globalName];i.bindIntegration(t);const o=ke(Ae(),t);let a;if(null!=n.getEvents)d("[pbjsIntegration] retrieve pbjs events using getEvents on public API"),a=n.getEvents;else{d("[pbjsIntegration] retrieve pbjs events using chunk");const t=e[`${s.globalName}Chunk`];if(void 0===t)throw new Error("[pbjsIntegration] unable to find pbjs chunk");const i=ye(t,{on:Function,getEvents:Function});if(void 0===i)throw new Error("[pbjsIntegration] unable to use event handler on adapter");a=i.getEvents}return Object.values(Ie).forEach((e=>{n.onEvent(e,(t=>{var i;try{o.on(e,t)}catch(s){u("[pbjsIntegration] Error on event "+e+": "+s.message,t),V({context:Object.assign(Object.assign({},null!==(i=s.context)&&void 0!==i?i:{}),{adapter:{version:n.version,source:"pbjs:on"}}),message:s.message})}}))})),a().forEach((({eventType:e,args:t})=>{var i;try{o.on(e,t)}catch(s){u("[pbjsIntegration] Error on event "+e+": "+s.message,t),V({context:Object.assign(Object.assign({},null!==(i=s.context)&&void 0!==i?i:{}),{adapter:{version:n.version,source:"pbjs:replayed"}}),message:s.message})}})),t}(e,h,c,a),s()}catch(e){return u("Unable to load pbjs integration due to",e),void n()}}))))}}));let m,v=[];if(i.smartEnabled||i.debug){const t={debug:r(),globalName:"sas"};v=function(e,t){return e[t.globalName]||(e[t.globalName]={}),e[t.globalName].cmd||(e[t.globalName].cmd=[]),e[t.globalName].cmd}(e,t),v.push((()=>{m=ot(e,c,t).instance}))}const f={tagId:s.tagId,globalQueue:i.sdk.globalQueue},g=tt(e,c,f);if(g.dispatchEvents(),i.debug||r()){c.subscribe({onAuction:e=>d("controller.onAuction",e),onImpression:e=>d("controller.onImpression",e)});const t=new xe(c);o.debug=t,O((e=>t.addError(e)),1e3),e.pbstck.debug=e.pbstck.debug||{},e.pbstck.debug[a]={getEvents:()=>t.getEvents(),getErrors:()=>t.getErrors(),sdk:null!==(n=null==g?void 0:g.debug())&&void 0!==n?n:void 0},(i.smartEnabled||i.debug)&&v.push((()=>{m&&(e.pbstck.debug[a].sas=m.debug())}))}return Promise.resolve().finally(),e.pbstck.controllers=e.pbstck.controllers||{},e.pbstck.controllers[`${i.gateway}@collector`]=o,h.then((()=>{e.dispatchEvent(new Event(Qe(`${i.gateway}@collector`,"pubstackMonitoringReady")))})),c}e.bootPubstack=rt,e.pubstackAutoconfig=function(e){var i,s,n,o;const a={gateway:null===(i=e.endpoint)||void 0===i?void 0:i.gateway,sdk:{globalQueue:"pbstckQ"},debug:!0===e.debug,viewabilityEnabled:e.viewabilityEnabled,smartEnabled:null!==(s=e.smartEnabled)&&void 0!==s&&s,refreshConfigurationUrl:null!==(n=e.refreshConfigurationUrl)&&void 0!==n?n:"",pbjsVariableName:e.pbjsVariableName||"pbjs",abTestValues:e.abTestValues};if(void 0===a.gateway)return;const r={tagId:e.tagId,scopeId:e.scopeId,country:e.country,device:e.device,browserName:e.browserName,browserVersion:e.browserVersion,osName:e.osName,osVersion:e.osVersion,pbstckVersion:null!==(o="b9b8f0d")?o:"unknown",customFields:Ke()};t(void 0,void 0,void 0,(function*(){try{return navigator&&navigator.cookieDeprecationLabel&&navigator.cookieDeprecationLabel.getValue&&(yield navigator.cookieDeprecationLabel.getValue())||void 0}catch(e){d("Error while getting cookie depreciation label",e)}})).then((e=>{e&&(r.customFields.cdep=e)})),r.tagId&&r.scopeId&&rt(window,a,r)}}(this.collector=this.collector||{});
;
 return this;}.bind({}); var _ = load();_.collector.pubstackAutoconfig({"endpoint":{"script":"https://cdn.pbstck.com/collector-b9b8f0d.js","gateway":"https://intake.pbstck.com/v1/intake"},"scopeId":"f2521fbf-96a6-4b81-8284-15bcd5ddf73b","tagId":"41a36494-d599-4b23-9be8-be4b70ee2ee5","viewabilityEnabled":true,"refreshEnabled":false,"smartEnabled":false,"pbjsVariableName":"pbjs","abTestValues":["A","B","C"],"bootstrapTime":1712713212179,"bootstrapVersion":"undefined","device":"desktop","browserName":"Chrome","browserVersion":"123","osName":"Windows","osVersion":"10","country":"TW"}); })()</script><script type="text/javascript">(function() { var load = function() {!function(e){"use strict";const t=/pbstck:debug/.test(window.location.href),n=!!window.localStorage.getItem("pbstck"),o=(e,o,...r)=>{(t||n)&&console[e](`[pbstckUserSessions-aadee70] [${performance.now().toFixed(2)}] ${o}`,...r.length?r:"")},r=(e,...t)=>{o("warn",e,...t)},i=(e,...t)=>{o("log",e,...t)},a=(e,...t)=>{o("error",e,...t)},s=["pbstck:","pbstck_context:"],c=()=>{const e=document.getElementsByTagName("meta"),t=Array.from(e).filter((e=>d(s,e.name))),n=new Map;t.forEach((e=>{const t=u(e.name);n.has(t)&&r(`Custom dim ${t} is present many times`),n.size<20?n.set(t,e.content):r(`Skipping custom dim ${t} with ${e.content}: limit of 20 keys exceeded`)}));const o=Object.assign({},...Array.from(n.entries()).map((([e,t])=>({[e]:t}))));return n.size>0&&i("Custom dim found :",o),o},u=e=>e.replace(/^\w+:/,""),d=(e,t)=>e.some((e=>t.startsWith(e)));var m,p;!function(e){e.HISTORY_MUTATION="_pbstck_historyMutation",e.NEW_PAGE="_pbstck_pageView",e.SESSION_TRACKING_AUTHORIZED="_pbstck_sessionTrackingAuthorized",e.SESSION_TRACKING_DECLINED="_pbstck_sessionTrackingDeclined"}(m||(m={})),function(e){e.REPLACE_STATE="replaceState",e.PUSH_STATE="pushState"}(p||(p={}));const f=e=>{window.history[e]=new Proxy(window.history[e],{apply(t,n,o){const r=window.location.href,i=t.apply(n,o),a=new CustomEvent(m.HISTORY_MUTATION,{detail:{referrer:r,stateObj:o[0],title:o[1],url:o[2],type:e}});return dispatchEvent(a),i}})};let l;const g=new Uint8Array(16);function v(){if(!l&&(l="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!l))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return l(g)}const h=[];for(let e=0;e<256;++e)h.push((e+256).toString(16).slice(1));var w={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function y(e,t,n){if(w.randomUUID&&!t&&!e)return w.randomUUID();const o=(e=e||{}).random||(e.rng||v)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=o[e];return t}return function(e,t=0){return h[e[t+0]]+h[e[t+1]]+h[e[t+2]]+h[e[t+3]]+"-"+h[e[t+4]]+h[e[t+5]]+"-"+h[e[t+6]]+h[e[t+7]]+"-"+h[e[t+8]]+h[e[t+9]]+"-"+h[e[t+10]]+h[e[t+11]]+h[e[t+12]]+h[e[t+13]]+h[e[t+14]]+h[e[t+15]]}(o)}const T=e=>{window.__pbstck_consent=e},E=e=>{window.__pbstck_session_tracking=e},S=()=>window.__pbstck_consent,b=()=>window.__pbstck_session_tracking,I=e=>{if("string"==typeof e){const t=e.split(/:\/\/(www.)?/g);return t.length<=1?null:t[t.length-1].split("/")[0]}const t=e.hostname;return t.startsWith("www.")?t.substring(4):t};var _;!function(e){e.DEV="dev",e.BETA="beta",e.PROD="prod"}(_||(_={}));class k extends Error{message="unknown session error"}class A extends k{message="session init error"}class C extends k{message="session parse error"}class N extends k{message="session not found error"}class D extends k{message="session obsolete error"}const L=Array(),O=(e,t)=>{const n=e.env===_.PROD?"":`_${e.env}`;return`_pbstck_session_${t.tagId.substring(0,8)}${n}`},P=e=>Date.now()-e>18e5,R=(e,t)=>{try{const o=localStorage.getItem(O(e,t));if(o){const e=JSON.parse(atob(o));if(n=e,L.every((e=>e in n)))return e;throw new C}throw new N}catch(e){if(e instanceof k)throw e;throw new C}var n},$=(e,t)=>{try{const n=R(e,t);return n.pageCount++,localStorage.setItem(O(e,t),btoa(JSON.stringify(n))),n.pageCount}catch(e){if(e instanceof k)throw e;throw new k}},U=(e,t)=>{const n=new URL(window.location.href),o={id:y(),lastUpdateTimeMs:Date.now(),pageCount:0,lastUrlVisited:window.location.href,utmSource:n.searchParams.get("utm_source")||null,utmCampaign:n.searchParams.get("utm_campaign")||null,utmContent:n.searchParams.get("utm_content")||null,utmTerm:n.searchParams.get("utm_term")||null,utmMedium:n.searchParams.get("utm_medium")||null};try{localStorage.setItem(O(e,t),btoa(JSON.stringify(o)))}catch(e){throw new A}},M=[],V=(e,t)=>{const n=M.map((n=>H(n,e,t)));if(n.length){const o=JSON.stringify(n),r=`${e.gateway}/page?${(()=>{const e=document.querySelector('meta[name="pbstck:kleanads-version"]')?.getAttribute("content")??"none",n=document.querySelector('meta[name="pbstck:config-version"]')?.getAttribute("content")??"none";return`tId=${t.tagId}&v=${e}&s=${n}&c=1`})()}`;navigator.sendBeacon&&navigator.sendBeacon(r,o)||fetch(r,{body:o,method:"POST",keepalive:!0}),i("[page] event queue dispatched",JSON.stringify(n)),M.length=0}},x=(e,t,n)=>{try{const r=F(t,n);try{const n=R(e,t);P(n.lastUpdateTimeMs)&&V(e,t)}catch(e){i("[page] session was not found or invalid, adding the new page to the queue anyway")}(o=r,M.push(o),i("[page] event queued",o),M.length)>=20&&V(e,t)}catch(e){e instanceof k?a(`[page] new page : ${e.message}`):a("[page] unknown error",e)}var o},B=(e,t)=>{x(e,t),window.addEventListener(m.SESSION_TRACKING_AUTHORIZED,(n=>{i(`[page] ${m.SESSION_TRACKING_AUTHORIZED}`,n);try{((e,t)=>{try{const n=R(e,t);if(P(n.lastUpdateTimeMs))throw new D;n.lastUpdateTimeMs=Date.now(),n.lastUrlVisited=window.location.href,localStorage.setItem(O(e,t),btoa(JSON.stringify(n)))}catch(n){if(n instanceof N||n instanceof C)return void U(e,t);if(n instanceof k)throw n;throw new k}})(e,t),V(e,t)}catch(n){n instanceof D&&(U(e,t),V(e,t))}})),window.addEventListener(m.SESSION_TRACKING_DECLINED,(n=>{i(`[page] ${m.SESSION_TRACKING_DECLINED}`,n),((e,t)=>{try{localStorage.removeItem(O(e,t))}catch(e){}})(e,t),V(e,t)})),window.addEventListener(m.HISTORY_MUTATION,(n=>{i(`[page] ${m.HISTORY_MUTATION}`,n),n.detail?.referrer.href!==window.location.href&&x(e,t,n.detail?.referrer)})),window.addEventListener("popstate",(n=>{x(e,t)})),window.document.addEventListener("visibilitychange",(()=>{i(`[page] visibility changed to ${document.visibilityState}`),"visible"!==document.visibilityState&&V(e,t)})),window.addEventListener("pagehide",(()=>{V(e,t)})),window.addEventListener("beforeunload",(()=>{V(e,t)}))},F=(e,t)=>{const n=new URL(window.location.href);return{...e,pageId:G(),pageCount:1,domain:I(window.location)??"",href:(o=window.location,o&&o.protocol&&o.host&&o.pathname?`${o.protocol}//${o.host}${o.pathname}`:"unknown"),referrer:I(t??document.referrer),consent:S(),userSessionId:null,sessionTracking:b(),utmSource:n.searchParams.get("utm_source"),utmCampaign:n.searchParams.get("utm_campaign"),utmContent:n.searchParams.get("utm_content"),utmTerm:n.searchParams.get("utm_term"),utmMedium:n.searchParams.get("utm_medium")};var o},H=(e,t,n)=>{try{const o=b();return{...e,pageCount:o?$(t,n):e.pageCount,userSessionId:o?R(t,n).id:null,consent:S(),sessionTracking:o,utmSource:o?R(t,n).utmSource:e.utmSource,utmCampaign:o?R(t,n).utmCampaign:e.utmCampaign,utmContent:o?R(t,n).utmContent:e.utmContent,utmTerm:o?R(t,n).utmTerm:e.utmTerm,utmMedium:o?R(t,n).utmMedium:e.utmMedium}}catch(t){if(t instanceof N)return e;t instanceof k?a(`[session] ${t.message}`):a("[session] unknown error",t)}return e},G=()=>{const e=y();return window.__pbstck_page_id=e,e};var q;!function(e){e[e.DENIED=0]="DENIED",e[e.GRANTED=1]="GRANTED",e[e.UNAVAILABLE=2]="UNAVAILABLE"}(q||(q={}));const K=async(e,t)=>{T(q.UNAVAILABLE),E(!1);let n=0;try{(await j(e))("addEventListener",2,(o=>{if(o){if("tcloaded"===o.eventStatus||"useractioncomplete"===o.eventStatus){T(Y(o));const e=Z(o)&&!t.sessionTrackingDisabled;E(e),e?dispatchEvent(new CustomEvent(m.SESSION_TRACKING_AUTHORIZED)):dispatchEvent(new CustomEvent(m.SESSION_TRACKING_DECLINED))}}else i(`[consent] wrong tcdata ${o}, waiting 200ms`),setTimeout((()=>{n++,100===n&&r("[consent] unable to retrieve cmp after 100 tries"),K(e,t)}),200)}))}catch(e){a("[consent] Error while loading tcf api")}},J=(e,t,n)=>{if(e.__tcfapi){const o=e.__tcfapi;(e=>"function"==typeof e)(e.__tcfapi)?t(o):n("__tcfapi is not a function")}else setTimeout((()=>J(e,t,n)),100)},j=e=>new Promise(((t,n)=>J(e,t,n))),Y=e=>e.purpose.consents&&e.purpose.consents[1]&&e.purpose.consents[2]&&e.purpose.consents[3]&&e.purpose.consents[4]&&e.purpose.consents[7]?q.GRANTED:q.DENIED,Z=e=>e.purpose.consents[1]&&e.purpose.consents[7]&&e.purpose.consents[8]?(i("[consent] SessionTracking obtained"),!0):(i("[consent] SessionTracking declined"),!1);var z,W,Q,X,ee,te=-1,ne=function(e){addEventListener("pageshow",(function(t){t.persisted&&(te=t.timeStamp,e(t))}),!0)},oe=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},re=function(){var e=oe();return e&&e.activationStart||0},ie=function(e,t){var n=oe(),o="navigate";return te>=0?o="back-forward-cache":n&&(document.prerendering||re()>0?o="prerender":document.wasDiscarded?o="restore":n.type&&(o=n.type.replace(/_/g,"-"))),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:o}},ae=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var o=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return o.observe(Object.assign({type:e,buffered:!0},n||{})),o}}catch(e){}},se=function(e,t,n,o){var r,i;return function(a){t.value>=0&&(a||o)&&((i=t.value-(r||0))||void 0===r)&&(r=t.value,t.delta=i,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,n),e(t))}},ce=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},ue=function(e){var t=function(t){"pagehide"!==t.type&&"hidden"!==document.visibilityState||e(t)};addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0)},de=function(e){var t=!1;return function(n){t||(e(n),t=!0)}},me=-1,pe=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},fe=function(e){"hidden"===document.visibilityState&&me>-1&&(me="visibilitychange"===e.type?e.timeStamp:0,ge())},le=function(){addEventListener("visibilitychange",fe,!0),addEventListener("prerenderingchange",fe,!0)},ge=function(){removeEventListener("visibilitychange",fe,!0),removeEventListener("prerenderingchange",fe,!0)},ve=function(){return me<0&&(me=pe(),le(),ne((function(){setTimeout((function(){me=pe(),le()}),0)}))),{get firstHiddenTime(){return me}}},he=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},we=[1800,3e3],ye=function(e,t){t=t||{},he((function(){var n,o=ve(),r=ie("FCP"),i=ae("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(i.disconnect(),e.startTime<o.firstHiddenTime&&(r.value=Math.max(e.startTime-re(),0),r.entries.push(e),n(!0)))}))}));i&&(n=se(e,r,we,t.reportAllChanges),ne((function(o){r=ie("FCP"),n=se(e,r,we,t.reportAllChanges),ce((function(){r.value=performance.now()-o.timeStamp,n(!0)}))})))}))},Te=[.1,.25],Ee={passive:!0,capture:!0},Se=new Date,be=function(e,t){z||(z=t,W=e,Q=new Date,ke(removeEventListener),Ie())},Ie=function(){if(W>=0&&W<Q-Se){var e={entryType:"first-input",name:z.type,target:z.target,cancelable:z.cancelable,startTime:z.timeStamp,processingStart:z.timeStamp+W};X.forEach((function(t){t(e)})),X=[]}},_e=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var n=function(){be(e,t),r()},o=function(){r()},r=function(){removeEventListener("pointerup",n,Ee),removeEventListener("pointercancel",o,Ee)};addEventListener("pointerup",n,Ee),addEventListener("pointercancel",o,Ee)}(t,e):be(t,e)}},ke=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,_e,Ee)}))},Ae=[100,300],Ce=0,Ne=1/0,De=0,Le=function(e){e.forEach((function(e){e.interactionId&&(Ne=Math.min(Ne,e.interactionId),De=Math.max(De,e.interactionId),Ce=De?(De-Ne)/7+1:0)}))},Oe=function(){return ee?Ce:performance.interactionCount||0},Pe=function(){"interactionCount"in performance||ee||(ee=ae("event",Le,{type:"event",buffered:!0,durationThreshold:0}))},Re=[200,500],$e=0,Ue=function(){return Oe()-$e},Me=[],Ve={},xe=function(e){var t=Me[Me.length-1],n=Ve[e.interactionId];if(n||Me.length<10||e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{var o={id:e.interactionId,latency:e.duration,entries:[e]};Ve[o.id]=o,Me.push(o)}Me.sort((function(e,t){return t.latency-e.latency})),Me.splice(10).forEach((function(e){delete Ve[e.id]}))}},Be=[2500,4e3],Fe={},He=[800,1800],Ge=function e(t){document.prerendering?he((function(){return e(t)})):"complete"!==document.readyState?addEventListener("load",(function(){return e(t)}),!0):setTimeout(t,0)},qe=function(e,t){t=t||{};var n=ie("TTFB"),o=se(e,n,He,t.reportAllChanges);Ge((function(){var r=oe();if(r){var i=r.responseStart;if(i<=0||i>performance.now())return;n.value=Math.max(i-re(),0),n.entries=[r],o(!0),ne((function(){n=ie("TTFB",0),(o=se(e,n,He,t.reportAllChanges))(!0)}))}}))};function Ke(e,t,n,o){const r=()=>{const o=document.querySelector('meta[name="pbstck:kleanads-version"]')?.getAttribute("content")??"none",r=document.querySelector('meta[name="pbstck:config-version"]')?.getAttribute("content")??"none";return`${e.toLocaleLowerCase()}=${t.toFixed(3)}&tId=${n.tagId}&v=${o}&s=${r}&c=1`},i=b(),a=JSON.stringify([{...n,href:window.location.href,name:e,value:t,customFields:{...n.customFields,pageId:window.__pbstck_page_id,pageCount:String(i?R(o,n).pageCount:1),userSessionId:i?R(o,n).id:null,sessionTracking:String(i)}}]);navigator.sendBeacon&&navigator.sendBeacon(`${o.gateway}/web-vitals?${r()}`,a)||fetch(`${o.gateway}/web-vitals?${r()}`,{body:a,method:"POST",keepalive:!0})}const Je=(e,t)=>{!function(e,t){t=t||{},ye(de((function(){var n,o=ie("CLS",0),r=0,i=[],a=function(e){e.forEach((function(e){if(!e.hadRecentInput){var t=i[0],n=i[i.length-1];r&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(r+=e.value,i.push(e)):(r=e.value,i=[e])}})),r>o.value&&(o.value=r,o.entries=i,n())},s=ae("layout-shift",a);s&&(n=se(e,o,Te,t.reportAllChanges),ue((function(){a(s.takeRecords()),n(!0)})),ne((function(){r=0,o=ie("CLS",0),n=se(e,o,Te,t.reportAllChanges),ce((function(){return n()}))})),setTimeout(n,0))})))}((n=>Ke("CLS",n.value,t,e))),ye((n=>Ke("FCP",n.value,t,e))),function(e,t){t=t||{},he((function(){var n,o=ve(),r=ie("LCP"),i=function(e){var t=e[e.length-1];t&&t.startTime<o.firstHiddenTime&&(r.value=Math.max(t.startTime-re(),0),r.entries=[t],n())},a=ae("largest-contentful-paint",i);if(a){n=se(e,r,Be,t.reportAllChanges);var s=de((function(){Fe[r.id]||(i(a.takeRecords()),a.disconnect(),Fe[r.id]=!0,n(!0))}));["keydown","click"].forEach((function(e){addEventListener(e,(function(){return setTimeout(s,0)}),!0)})),ue(s),ne((function(o){r=ie("LCP"),n=se(e,r,Be,t.reportAllChanges),ce((function(){r.value=performance.now()-o.timeStamp,Fe[r.id]=!0,n(!0)}))}))}}))}((n=>Ke("LCP",n.value,t,e))),function(e,t){t=t||{},he((function(){var n,o=ve(),r=ie("FID"),i=function(e){e.startTime<o.firstHiddenTime&&(r.value=e.processingStart-e.startTime,r.entries.push(e),n(!0))},a=function(e){e.forEach(i)},s=ae("first-input",a);n=se(e,r,Ae,t.reportAllChanges),s&&ue(de((function(){a(s.takeRecords()),s.disconnect()}))),s&&ne((function(){var o;r=ie("FID"),n=se(e,r,Ae,t.reportAllChanges),X=[],W=-1,z=null,ke(addEventListener),o=i,X.push(o),Ie()}))}))}((n=>Ke("FID",n.value,t,e))),function(e,t){t=t||{},he((function(){var n;Pe();var o,r=ie("INP"),i=function(e){e.forEach((function(e){e.interactionId&&xe(e),"first-input"===e.entryType&&!Me.some((function(t){return t.entries.some((function(t){return e.duration===t.duration&&e.startTime===t.startTime}))}))&&xe(e)}));var t,n=(t=Math.min(Me.length-1,Math.floor(Ue()/50)),Me[t]);n&&n.latency!==r.value&&(r.value=n.latency,r.entries=n.entries,o())},a=ae("event",i,{durationThreshold:null!==(n=t.durationThreshold)&&void 0!==n?n:40});o=se(e,r,Re,t.reportAllChanges),a&&("PerformanceEventTiming"in window&&"interactionId"in PerformanceEventTiming.prototype&&a.observe({type:"first-input",buffered:!0}),ue((function(){i(a.takeRecords()),r.value<0&&Ue()>0&&(r.value=0,r.entries=[]),o(!0)})),ne((function(){Me=[],$e=Oe(),r=ie("INP"),o=se(e,r,Re,t.reportAllChanges)})))}))}((n=>Ke("INP",n.value,t,e))),qe((n=>Ke("TTFB",n.value,t,e)))};e.pubstackAutoconfig=function(e){if(void 0===e.endpoint.gateway)return void a("[pbstckAutoconfig] no gateway url found in config");const t={gateway:e.endpoint.gateway,env:(n=e.endpoint.gateway,n.includes(_.DEV)?_.DEV:n.includes(_.BETA)?_.BETA:_.PROD),sessionTrackingDisabled:e.sessionTrackingDisabled??!1};var n;try{const n=window.top||window;n.pbstck=n.pbstck||{lock:{}},n.pbstck.lock=n.pbstck.lock||{};const o=`${e.tagId}@${t.env}@user-sessions`;if(n.pbstck.lock[o])return;n.pbstck.lock[o]=!0}catch(e){a("[pbstckAutoconfig] error while locking the integration",e)}const o={tagId:e.tagId,scopeId:e.scopeId,country:e.country,device:e.device,browserName:e.browserName,browserVersion:e.browserVersion,osName:e.osName,osVersion:e.osVersion,pbstckVersion:"aadee70",customFields:c()};o.tagId&&o.scopeId?(f(p.REPLACE_STATE),f(p.PUSH_STATE),(e=>{K(window,e)})(t),Je(t,o),B(t,o)):a("[pbstckAutoconfig] no tagId or scopeId found in context")}}(this.userSessions=this.userSessions||{});
;
 return this;}.bind({}); var _ = load();_.userSessions.pubstackAutoconfig({"endpoint":{"script":"https://cdn.pbstck.com/user-sessions-aadee70.js","gateway":"https://intake.pbstck.com/v1/intake"},"scopeId":"f2521fbf-96a6-4b81-8284-15bcd5ddf73b","tagId":"41a36494-d599-4b23-9be8-be4b70ee2ee5","sessionTrackingDisabled":true,"bootstrapTime":1712713212179,"bootstrapVersion":"undefined","device":"desktop","browserName":"Chrome","browserVersion":"123","osName":"Windows","osVersion":"10","country":"TW"}); })()</script><style>@import url(https://fonts.googleapis.com/css2?family=Open+Sans:wght@500;600&display=swap);</style><style>#idw_plugin_container {
    display: flex;
    flex-direction: column;
    box-sizing: content-box;
    position: fixed;
    left: -160px;
    bottom: -160px;
    z-index: 999999;
    background-color: #fff;

    height: auto;
    max-width: 160px;
    width: 160px;
    min-width: 160px;
    color: #171717;
    line-height: 1rem;

    outline: 1px solid #171717;
    justify-content: flex-start;

    -webkit-box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    -moz-box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    opacity: 0;
    transition: left .4s, bottom .4s, opacity .1s;
}

#idw_plugin_container.idw-open {
    left: 0;
    bottom: 0;
    opacity: 1;
}

#idward-plugin-buttons {
    display: flex;
    flex-direction: column;
    height: 100%;
    width: auto;
}

#idw_plugin_container .pluginBtn {
    border: none;
    padding: 1px 5px !important;
    margin: 0 !important;
    width: auto !important;
    height: 25px !important;
    box-sizing: border-box !important;

    border-radius: 0 !important;
    text-align: right !important;

    font-family: 'Open Sans', sans-serif !important;
    line-height: normal !important;
    text-transform: none !important;
    letter-spacing: normal !important;
    font-weight: 600 !important;
    font-size: 14px !important;

    background-color: #ffffff !important;
    transition: background-color 0.2s;
    cursor: pointer !important;
}

#idw_plugin_container .pluginBtn:hover {
    outline: 1px solid #ffffff !important;
    background-color: #171717 !important;
    color: #ffffff !important;
}

#idward-open-trigger {
    position: fixed;
    width: 50px;
    height: 50px;
    bottom: 0;
    left: 0;
    z-index: 999999;
    cursor: pointer;
    -webkit-clip-path: polygon(100% 100%, 0 100%, 0 0);
    clip-path: polygon(100% 100%, 0 100%, 0 0);
    background-color: #171717 !important;
}

#idward-open-trigger img {
    width: 28px;
    height: 28px;
    position: absolute;
    /* padding: 4px; */
    bottom: -2px;
    left: -2px;
}</style><style>/***************/
/*MEDIA QUERIES*/
/***************/
/*
  ##Device: Tablets, Ipads (portrait)
  ##Screen: B/w 768px to 1024px
*/
@media (min-width: 768px) and (max-width: 1024px) {
    
}
/*
  ##Device: Most of the Smartphones Mobiles (Portrait)
  ##Screen: B/w 320px to 479px
*/
@media (min-width: 400px) and (max-width: 480px) {

}</style><meta http-equiv="origin-trial" content="A/vXSuiuvzsL+Db89QNS/YzqK5Wmzx9oASGHZVMjcaWfVdbB6eUJrJGNr7uhrsmiGhryVjVALd72agYzELDTMAgAAACAeyJvcmlnaW4iOiJodHRwczovL2NyaXRlby5uZXQ6NDQzIiwiZmVhdHVyZSI6IlByaXZhY3lTYW5kYm94QWRzQVBJcyIsImV4cGlyeSI6MTY2OTc2NjM5OSwiaXNTdWJkb21haW4iOnRydWUsImlzVGhpcmRQYXJ0eSI6dHJ1ZX0="><meta http-equiv="origin-trial" content="A0KGawWMfAygakxUO+Z3rulPwK2j0AqkLneiEt4pAI951GYaafeHNV9Ya+PAn7s0y12QSrfTjc9LdOUU+QfkdQwAAACAeyJvcmlnaW4iOiJodHRwczovL2NyaXRlby5jb206NDQzIiwiZmVhdHVyZSI6IlByaXZhY3lTYW5kYm94QWRzQVBJcyIsImV4cGlyeSI6MTY2OTc2NjM5OSwiaXNTdWJkb21haW4iOnRydWUsImlzVGhpcmRQYXJ0eSI6dHJ1ZX0="><script src="./POPCAT_files/js(2)" async=""></script><style>
      #idw_plugin_container .pluginBtn {
            color: undefined !important;
        }

        #idw_plugin_container .pluginBtn:hover {
            background-color: undefined !important;
        }
                
        #idward-open-trigger {
            background-color: undefined;
        }
    </style><script type="text/javascript" src="./POPCAT_files/timeme.min.js.下載"></script><script type="text/javascript" src="./POPCAT_files/collect.min.js.下載" idw_authority="https://account.anonymised.io/login" idw_client_id="NTU=" idw_metrics_url="https://material.anonymised.io/metrics/collect"></script></head><iframe src="./POPCAT_files/iframe.html" width="0" height="0" name="networknheader13924283968_MOAT_IFRAME" style="display: none; width: 0px; height: 0px;"></iframe><body><noscript><strong>We're sorry but POPCAT doesn't work properly without JavaScript enabled. Please enable it to continue.</strong></noscript><div id="app"><header><section class="projects"><a href="https://maxwellcat.world/" aria-label="Check out maxwellcat.world!" class="other-project"><img src="./POPCAT_files/maxwell-cat-world.3acc0d7d.png" alt=""></a><a href="https://shop.popcat.click/" aria-label="Check out shop.popcat.click!" class="other-project extra-project"><img src="./POPCAT_files/shop-popcat-click.a7362134.png" alt=""></a></section><img src="./POPCAT_files/popcat.4158e1f3.svg" alt="POPCAT" class="title"><section class="projects"><a href="https://spinningrat.online/" aria-label="Check out spinningrat.online!" class="other-project"><img src="./POPCAT_files/spinning-rat-online.c048cc07.png" alt=""></a></section></header><div class="cat-img p"><div class="counter rot-rr">1</div></div><section data-v-3534e648="" class="leaderboard "><div data-v-3534e648="" class="bar"><h1 data-v-3534e648="">🏆</h1><div data-v-3534e648="" class="preview"><h2 data-v-3534e648="">Leaderboard</h2></div><button data-v-3534e648="" class="show"><svg data-v-3534e648="" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path data-v-3534e648="" fill-rule="evenodd" d="M7.646 4.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1-.708.708L8 5.707l-5.646 5.647a.5.5 0 0 1-.708-.708l6-6z"></path></svg></button></div><main data-v-3534e648="" style="--max-height: 206px;"><div data-v-3534e648="" class="main-wrap"><div data-v-43f95833="" data-v-3534e648="" accumulator="1"><p data-v-43f95833="">Loading...</p><div data-v-43f95833="" class="leaderboard-key">PPS = Pops Per Second</div></div><div data-v-560ffd9a="" data-v-3534e648=""><a data-v-560ffd9a="" href="https://twotwelve.uk/" target="_blank" class="twotwelve"><svg data-v-560ffd9a="" viewBox="0 0 1826 309" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" fill-rule="nonzero" fill="#003049" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="2"><path data-v-560ffd9a="" d="m151.2 262.8 11 9.4a84 84 0 0 1-22.5 27.1 54.5 54.5 0 0 1-33.3 9.5 80 80 0 0 1-33.5-7.2A60.8 60.8 0 0 1 47 279.2 67.8 67.8 0 0 1 37 241V126l-4.1-4.2H0v-14.3c20.5-4.1 38.3-13 53.4-26.7a91.9 91.9 0 0 0 28.8-51.4h14.3v78h61.7v14.4H99.8l-3.3 4.1v125.8c0 8.7 2 16 6 21.7 4 5.8 9.7 8.7 17 8.7a33 33 0 0 0 15.3-4.3c5.4-3 11-8 16.4-15Z"></path><path data-v-560ffd9a="" d="M401.1 107.5h77.7v14.3H454L393 304.7h-26.7l-53.4-131.5h-2l-53.5 131.5h-26.7l-74-182.9h-20.9v-14.3h113.4v14.3h-20.5l-4.1 4.1L266 230.7h2l34.1-82.6-10.7-26.3h-17.6v-14.3h102.7v14.3H360l-4 4.1 41 104.8h2L434 126l-4.1-4H401v-14.4ZM563.1 103.4c20.3 0 38.3 4 54 12a90 90 0 0 1 37.2 35.2c9 15.3 13.6 33.8 13.6 55.5 0 21.6-4.5 40-13.6 55.4a90 90 0 0 1-37.1 35.1c-15.8 8.1-33.8 12.2-54 12.2-20.3 0-38.3-4-54.1-12.2a90 90 0 0 1-37.2-35c-9-15.4-13.5-33.9-13.5-55.5 0-21.7 4.5-40.2 13.5-55.5a90 90 0 0 1 37.2-35.1c15.8-8.1 33.8-12.1 54-12.1Zm2 191c9.7 0 17.1-4 22.5-12.1a81 81 0 0 0 11.3-31 225 225 0 0 0 3.3-38.7c0-21.3-2.1-39-6.2-53a81 81 0 0 0-15.6-31.4c-6.3-7-12.8-10.5-19.3-10.5-9.3 0-16.7 4-22.2 12.2-5.5 8-9.3 18.3-11.5 30.8a223.9 223.9 0 0 0-3.3 38.8c0 21 2 38.7 6.2 52.8a79.2 79.2 0 0 0 15.8 31.6c6.4 7 12.8 10.5 19 10.5ZM814.3 262.8l11 9.4a84 84 0 0 1-22.5 27.1 54.5 54.5 0 0 1-33.3 9.5 80 80 0 0 1-33.5-7.2 60.8 60.8 0 0 1-25.9-22.4 67.8 67.8 0 0 1-10-38.2V126l-4.1-4.2H663v-14.3c20.5-4.1 38.3-13 53.4-26.7a91.9 91.9 0 0 0 28.8-51.4h14.3v78h61.7v14.4h-58.4l-3.3 4.1v125.8c0 8.7 2 16 6 21.7 4 5.8 9.7 8.7 17 8.7a33 33 0 0 0 15.3-4.3c5.4-3 11-8 16.4-15Z"></path><path data-v-560ffd9a="" d="M1064.2 107.5h77.7v14.3h-24.7L1056 304.7h-26.7l-53.4-131.5h-2l-53.5 131.5h-26.7l-74-182.9h-20.9v-14.3h113.4v14.3h-20.5l-4.1 4.1L929 230.7h2l34.1-82.6-10.7-26.3H937v-14.3h102.7v14.3H1023l-4 4.1 41 104.8h2l35-104.8-4.1-4h-28.8v-14.4ZM1241 288.2c13.7 0 26.1-3.3 37.2-9.8 11-6.6 20.3-13.9 27.7-21.8l11.1 9.4a183.5 183.5 0 0 1-19.9 20.2c-7.5 6.5-17 12-28.1 16.2a122.2 122.2 0 0 1-42.8 6.4c-18.9 0-36.3-4-52.1-12.2a95.3 95.3 0 0 1-38.3-35 102.6 102.6 0 0 1-14.3-55.5c0-21.7 4.8-40.2 14.3-55.5a95.3 95.3 0 0 1 38.3-35.1c15.8-8.1 33.2-12.1 52.1-12.1 17.8 0 33.7 3.4 47.7 10.2 14 6.9 25 17.6 33 32a115 115 0 0 1 12.2 56.4h-146.3v-14.4h82.6c-1.1-23.9-4.3-41.5-9.7-52.8-5.3-11.4-13.2-17-23.6-17-7.4 0-13.7 3.6-18.9 10.8a81.3 81.3 0 0 0-11.9 30.8 233.3 233.3 0 0 0-4.1 46.7c0 17.5 2 32.3 6 44.5 4 12.2 9.9 21.5 17.8 28 8 6.4 18 9.6 30 9.6ZM1319.6 304.7v-14.4h20.6l4-4.1v-263l-4-4h-20.6V4.7l25.5-.3c9.9 0 19.7-.5 29.4-1.2s18.1-1.6 25.2-2.7l4.2 4.2v281.4l4 4h20.6v14.5h-108.9Z"></path><path data-v-560ffd9a="" d="M1568.3 107.5h77.7v14.3h-24.7l-74.7 182.9h-26.7l-86-182.9h-20.5v-14.3h113v14.3H1506l-4.1 4.1 51 113h2l46.4-113-4.1-4h-28.8v-14.4ZM1747.6 288.2c13.7 0 26-3.3 37.2-9.8 11-6.6 20.3-13.9 27.7-21.8l11 9.4a183.6 183.6 0 0 1-19.8 20.2c-7.6 6.5-17 12-28.2 16.2a122.2 122.2 0 0 1-42.7 6.4c-18.9 0-36.3-4-52.2-12.2a95.3 95.3 0 0 1-38.2-35A102.6 102.6 0 0 1 1628 206c0-21.7 4.8-40.2 14.4-55.5a95.3 95.3 0 0 1 38.2-35.1c16-8.1 33.3-12.1 52.2-12.1 17.8 0 33.7 3.4 47.7 10.2 14 6.9 25 17.6 33 32a115 115 0 0 1 12.1 56.4h-146.2v-14.4h82.6c-1.1-23.9-4.3-41.5-9.7-52.8-5.3-11.4-13.2-17-23.6-17-7.4 0-13.7 3.6-19 10.8a81.3 81.3 0 0 0-11.8 30.8 233.2 233.2 0 0 0-4.1 46.7c0 17.5 2 32.3 6 44.5 3.9 12.2 9.9 21.5 17.8 28a46 46 0 0 0 30 9.6Z"></path></svg></a></div><div data-v-3534e648="" class="mini">Check out <a data-v-3534e648="" href="https://maxwellcat.world/">maxwellcat.world!</a></div><div data-v-3534e648="" class="mini">We use <a data-v-3534e648="" href="https://popcat.click/privacy#cookies">Cookies</a>. Here's our <a data-v-3534e648="" href="https://popcat.click/privacy">Privacy Notice</a>.</div></div></main><figure data-v-1850ec6e="" data-v-3534e648="" class="ad-wrapper ad-wrapper-desktop" adslot="4885758928"><div data-v-1850ec6e="" id="nn_lb1" class="ad-container" data-google-query-id="CP38qLTCtoUDFUxMwgUd6m8GAw"><div id="google_ads_iframe_6928793/PopCat-6278deebb3e0c/PopCat-LB1-6278def44a6af_0__container__" style="border: 0pt none;"><iframe id="google_ads_iframe_6928793/PopCat-6278deebb3e0c/PopCat-LB1-6278def44a6af_0" name="google_ads_iframe_6928793/PopCat-6278deebb3e0c/PopCat-LB1-6278def44a6af_0" title="3rd party ad content" width="728" height="90" scrolling="no" marginwidth="0" marginheight="0" frameborder="0" aria-label="Advertisement" tabindex="0" allow="attribution-reporting" style="border: 0px; vertical-align: bottom;" data-load-complete="true" data-google-container-id="1" src="./POPCAT_files/saved_resource.html"></iframe></div></div></figure><figure data-v-1850ec6e="" data-v-3534e648="" class="ad-wrapper ad-wrapper-mobile" adslot="6804203610"><div data-v-1850ec6e="" id="nn_mobile_lb1" class="ad-container"><p data-v-1850ec6e="">Check out <a data-v-1850ec6e="" href="https://maxwellcat.world/">maxwellcat.world!</a></p></div></figure></section></div><script defer="" src="./POPCAT_files/beacon.min.js.下載" data-cf-beacon="{&quot;token&quot;: &quot;82302a965a804a968bb9795eed9b330f&quot;}"></script><script src="./POPCAT_files/chunk-vendors.5ced7580.js.下載"></script><script src="./POPCAT_files/app.cdadf96b.js.下載"></script><script>(function(){if (!document.body) return;var js = "window['__CF$cv$params']={r:'871f08ac7e6a19ec',t:'MTcxMjcxMzI3OS40OTAwMDA='};_cpo=document.createElement('script');_cpo.nonce='',_cpo.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js',document.getElementsByTagName('head')[0].appendChild(_cpo);";var _0xh = document.createElement('iframe');_0xh.height = 1;_0xh.width = 1;_0xh.style.position = 'absolute';_0xh.style.top = 0;_0xh.style.left = 0;_0xh.style.border = 'none';_0xh.style.visibility = 'hidden';document.body.appendChild(_0xh);function handler() {var _0xi = _0xh.contentDocument || _0xh.contentWindow.document;if (_0xi) {var _0xj = _0xi.createElement('script');_0xj.innerHTML = js;_0xi.getElementsByTagName('head')[0].appendChild(_0xj);}}if (document.readyState !== 'loading') {handler();} else if (window.addEventListener) {document.addEventListener('DOMContentLoaded', handler);} else {var prev = document.onreadystatechange || function () {};document.onreadystatechange = function (e) {prev(e);if (document.readyState !== 'loading') {document.onreadystatechange = prev;handler();}};}})();</script><iframe height="1" width="1" style="position: absolute; top: 0px; left: 0px; border: none; visibility: hidden;" src="./POPCAT_files/saved_resource(1).html"></iframe><iframe name="__tcfapiLocator" style="display: none;" src="./POPCAT_files/saved_resource(2).html"></iframe><iframe name="__uspapiLocator" style="display: none;" src="./POPCAT_files/saved_resource(3).html"></iframe><script type="text/javascript" src="./POPCAT_files/v2"></script><iframe name="__gppLocator" style="display: none;" src="./POPCAT_files/saved_resource(4).html"></iframe><script src="./POPCAT_files/quant.js.下載" type="text/javascript"></script><img src="./POPCAT_files/px.gif" style="display: none !important; width: 1px !important; height: 1px !important;"><img src="./POPCAT_files/favicon.ico" style="display: none !important; width: 1px !important; height: 1px !important;"><img src="./POPCAT_files/px(1).gif" style="display: none !important; width: 1px !important; height: 1px !important;"><iframe src="./POPCAT_files/iu3.html" style="display: none;"></iframe><img id="adg-0-sync" style="position:absolute; display:none; height:0; width:0;" src="./POPCAT_files/cm"><iframe src="./POPCAT_files/syncframe.html" width="0" height="0" frameborder="0" title="Criteo GUM iframe" style="border-width: 0px; margin: 0px; display: none;"></iframe><script src="./POPCAT_files/572(1)"></script><iframe src="./POPCAT_files/container.html" style="visibility: hidden; display: none;"></iframe><img height="1" width="1" src="./POPCAT_files/halo_match" alt="" style="display: none;"><img height="1" width="1" src="./POPCAT_files/ip_match" alt="" style="display: none;"><img height="1" width="1" src="./POPCAT_files/https___ids.ad.gt_api_v1_amo_match_turn_id=$!{TURN_UUID}&amp;id=AU1D-0100-001712713215-JZC27SWD-TKUI" alt="" style="display: none;"><img height="1" width="1" src="./POPCAT_files/ium" alt="" style="display: none;"><img height="1" width="1" src="./POPCAT_files/cm(1)" alt="" style="display: none;"><img height="1" width="1" src="./POPCAT_files/rtset" alt="" style="display: none;"><img height="1" width="1" src="./POPCAT_files/ux" alt="" style="display: none;"><img height="1" width="1" src="./POPCAT_files/us" alt="" style="display: none;"><img height="1" width="1" src="./POPCAT_files/ebfa23da174faa55634171c5e49d0152.gif" alt="" style="display: none;"><img height="1" width="1" src="./POPCAT_files/ibs_dpid=348447&amp;dpuuid=AU1D-0100-001712713215-JZC27SWD-TKUI&amp;redir=https___ids.ad.gt_api_v1_adb_match_adb=${DD_UUID}&amp;id=AU1D-0100-001712713215-JZC27SWD-TKUI" alt="" style="display: none;"><script type="text/javascript" src="./POPCAT_files/getpixels" async=""></script><div id="idw_plugin_container">
        <div id="idward-plugin-buttons"><button class="pluginBtn" id="idw-manage-consent" style="display: block; border-bottom: 1px solid black">Manage Your Data</button>
          <button class="pluginBtn" id="idw-cookies-setting" style="display: block">Cookie Settings</button></div>
      </div><iframe src="./POPCAT_files/join-ad-interest-groups.html" allow="join-ad-interest-group; attribution-reporting" style="display: none;"></iframe><iframe id="adg-1-sync" height="0" width="0" marginwidth="0" marginheight="0" scrolling="no" frameborder="0" src="./POPCAT_files/saved_resource(5).html" style="border: 0px; display: none;"></iframe><iframe id="adg-2-sync" height="0" width="0" marginwidth="0" marginheight="0" scrolling="no" frameborder="0" src="./POPCAT_files/user_sync.html" style="border: 0px; display: none;"></iframe><iframe src="./POPCAT_files/aframe.html" width="0" height="0" style="display: none;"></iframe><img id="adg-3-sync" style="position:absolute; display:none; height:0; width:0;" src="./POPCAT_files/rmpssp"><iframe id="adg-0-sync" height="0" width="0" marginwidth="0" marginheight="0" scrolling="no" frameborder="0" src="https://ssbsync.smartadserver.com/api/sync?callerId=43&amp;gdpr=0&amp;gdpr_consent=" style="border: 0px; display: none;"></iframe><img id="adg-1-sync" style="position:absolute; display:none; height:0; width:0;" src="./POPCAT_files/cm"><iframe id="adg-2-sync" height="0" width="0" marginwidth="0" marginheight="0" scrolling="no" frameborder="0" src="https://eb2.3lift.com/sync?gdpr=0&amp;gdpr_consent=&amp;us_privacy=1---&amp;redir=https%3A%2F%2Fu.4dex.io%2Fsetuid%3Fbidder%3Dtriplelift%26uid%3D%24UID%26us_privacy%3D1---" style="border: 0px; display: none;"></iframe><iframe id="adg-3-sync" height="0" width="0" marginwidth="0" marginheight="0" scrolling="no" frameborder="0" src="https://ads.us.e-planning.net/uspd/1/be96b820e5daac93?ruidm=1&amp;du=https%3A%2F%2Fu.4dex.io%2Fsetuid%3Fbidder%3Deplanning%26us_privacy%3D1---%26uid%3D%24UID" style="border: 0px; display: none;"></iframe><iframe id="adg-0-sync" height="0" width="0" marginwidth="0" marginheight="0" scrolling="no" frameborder="0" src="https://ads.us.e-planning.net/uspd/1/be96b820e5daac93?ruidm=1&amp;du=https%3A%2F%2Fu.4dex.io%2Fsetuid%3Fbidder%3Deplanning%26us_privacy%3D1---%26uid%3D%24UID" style="border: 0px; display: none;"></iframe><iframe id="adg-1-sync" height="0" width="0" marginwidth="0" marginheight="0" scrolling="no" frameborder="0" src="https://onetag-sys.com/usync/?pubId=6b859b96c564fbe&amp;gdpr=0&amp;gdpr_consent=&amp;us_privacy=1---" style="border: 0px; display: none;"></iframe><iframe id="adg-2-sync" height="0" width="0" marginwidth="0" marginheight="0" scrolling="no" frameborder="0" src="https://ads.pubmatic.com/AdServer/js/user_sync.html?p=159110&amp;us_privacy=1---&amp;predirect=https%3A%2F%2Fu.4dex.io%2Fsetuid%3Fbidder%3Dpubmatic%26uid%3D(PM_UID)" style="border: 0px; display: none;"></iframe><iframe id="adg-3-sync" height="0" width="0" marginwidth="0" marginheight="0" scrolling="no" frameborder="0" src="https://ssbsync.smartadserver.com/api/sync?callerId=43&amp;gdpr=0&amp;gdpr_consent=" style="border: 0px; display: none;"></iframe></body><iframe name="goog_topics_frame" src="./POPCAT_files/topics_frame.html" style="display: none;"></iframe><iframe sandbox="allow-scripts allow-same-origin" id="13491aaaebb1168" frameborder="0" allowtransparency="true" marginheight="0" marginwidth="0" width="0" hspace="0" vspace="0" height="0" style="height:0px;width:0px;display:none;" scrolling="no" src="./POPCAT_files/user_sync(1).html">
    </iframe><iframe sandbox="allow-scripts allow-same-origin" id="1469367cfbf1175" frameborder="0" allowtransparency="true" marginheight="0" marginwidth="0" width="0" hspace="0" vspace="0" height="0" style="height:0px;width:0px;display:none;" scrolling="no" src="./POPCAT_files/pd.html">
    </iframe><iframe sandbox="allow-scripts allow-same-origin" id="153225d65a2c601" frameborder="0" allowtransparency="true" marginheight="0" marginwidth="0" width="0" hspace="0" vspace="0" height="0" style="height:0px;width:0px;display:none;" scrolling="no" src="./POPCAT_files/saved_resource(6).html">
    </iframe><iframe sandbox="allow-scripts allow-same-origin" id="1601c1566337ce3" frameborder="0" allowtransparency="true" marginheight="0" marginwidth="0" width="0" hspace="0" vspace="0" height="0" style="height:0px;width:0px;display:none;" scrolling="no" src="./POPCAT_files/sync.html">
    </iframe></html>